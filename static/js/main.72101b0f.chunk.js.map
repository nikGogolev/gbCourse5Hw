{"version":3,"sources":["components/Main/index.js","store/actions/removeMessage.js","components/Message/index.js","components/ChatList/index.js","components/AddChatForm/index.js","store/actions/addChat.js","store/actions/removeChat.js","store/selectors/chatSelectors.js","store/actions/initChats.js","components/ChatListContainer/index.js","store/actions/addMessage.js","store/selectors/profileSelectors.js","components/SendForm/index.js","components/Chat/index.js","store/actions/toggleProfileCheckbox.js","store/actions/setProfileName.js","services/firebase.js","components/Profile/index.js","store/selectors/newsSelectors.js","store/actions/getNews.js","utils/constants.js","components/News/index.js","components/SignUp/index.js","components/LogIn/index.js","hocs/PrivateRoute.js","hocs/PublicRoute.js","components/Router/index.js","store/initialState.js","store/reducers/profileReducer.js","store/reducers/chatReducer.js","store/reducers/newsReducer.js","store/sagas/messagesSaga.js","store/sagas/profileSaga.js","store/sagas/newsSaga.js","store/sagas/chatsSaga.js","store/sagas.js","store/store.js","App.js","reportWebVitals.js","index.js"],"names":["Main","props","className","to","REMOVE_MESSAGE","REMOVE_MESSAGE_WITH_SAGA","useStyles","makeStyles","theme","button","position","top","right","message","border","borderRadius","marginBottom","messageHeader","textAlign","margin","messageText","whiteSpace","messageAuthor","smallText","fontSize","color","fontWeight","Message","dispatch","useDispatch","handleRemoveMessage","useCallback","chatId","messageId","type","removeMessageWithSaga","classes","messages","map","i","id","header","text","author","IconButton","onClick","ChatList","List","component","Object","values","chats","chat","link","ListItem","active","root","ListItemText","primary","name","event","handleRemoveChat","AddChatForm","onSubmit","handleAddChat","chatName","addChatForm","TextField","value","onChange","hanldeChatName","label","variant","size","Button","ADD_CHAT","ADD_CHAT_WITH_SAGA","REMOVE_CHAT","REMOVE_CHAT_WITH_SAGA","getChats","state","INIT_CHATS","initChats","INIT_CHATS_WITH_SAGA","height","textDecoration","palette","main","secondary","backgroundColor","marginRight","maxWidth","padding","display","alignItems","ChatListContainer","useState","setChatName","useSelector","shallowEqual","preventDefault","addChatWithSaga","useEffect","target","stopPropagation","removeChatWithSaga","ADD_MESSAGE","ADD_MESSAGE_WITH_SAGA","getProfileCheckboxState","profile","checkboxState","getProfileName","getProfileWrongNameState","wrongName","flexDirection","spacing","alignSelf","SendForm","messageTheme","setMessageTheme","setMessageText","formText","useRef","useParams","handleAddMessage","clearForm","current","focus","addMessageWithSaga","action","noValidate","autoComplete","inputRef","multiline","rows","endIcon","Icon","justifyContent","flexGrow","Chat","chatList","PROFILE_CHECKBOX","PROFILE_NAME","SET_PROFILE_NAME_WITH_SAGA","auth","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getDatabase","profileName","left","background","hidden","visibility","Profile","newProfileName","setNewProfileName","setProfileName","profileCheckboxState","userName","ref","currentUser","uid","onValue","snapshot","data","val","required","checked","htmlFor","signOut","then","catch","error","getNewsList","news","newsList","getNewsErrorStatus","status","getNewsErrorMessage","getNewsRequestStatus","GET_NEWS_REQUEST","GET_NEWS_SUCCESS","GET_NEWS_FAILURE","GET_NEWS_WITH_SAGA","getNewsSuccess","STATUSES","listStyle","newsItem","News","isError","newsErrorMessage","newsRequestStatus","handleFetchNews","renderNews","href","url","rel","title","SignUp","email","setEmail","password","setPassword","setError","handleSubmit","e","a","createUserWithEmailAndPassword","placeholder","LogIn","signInWithEmailAndPassword","PrivateRoute","authenticated","rest","pathname","PublicRoute","minHeight","App","authed","setAuthed","onAuthStateChanged","user","path","exact","initialState","profileReducer","test","chatReducer","newChatId","Date","newMessages","filter","newsReducer","errorMessage","fetchData","fetch","result","ok","Error","statusText","json","err","onAddMessageWithSaga","newMessageId","update","delay","call","weatherData","newBotMessageId","botMessage","clouds","all","temp","toFixed","humidity","wind","speed","console","log","onRemoveMessageWithSaga","remove","onSetProfileNameWithSaga","put","set","username","onGetNewsWithSaga","onInitChatsWithSaga","store","onAddChatWithSaga","newChat","onRemoveChatWithSaga","mySaga","takeEvery","takeLatest","combine","combineReducers","options","onError","stack","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","key","storage","persistedReducer","persistReducer","createStore","applyMiddleware","run","persistor","persistStore","mainTheme","createTheme","ThemeProvider","Router","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72101b0f.chunk.js","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom'\n\n\n\nfunction Main(props) {\n\t\n\n\t\n\n\treturn (\n\t\t<div className=\"main-container\">\n\t\t\t<h1>Welcome to chat</h1>\n\t\t\t<div>\n\t\t\t\t<Link to=\"/login\">Sign In</Link>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Link to=\"/signup\">Sign Up</Link>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t);\n}\n\nexport default Main;\n","export const REMOVE_MESSAGE = 'CHATS::REMOVE_MESSAGE'\r\n\r\nexport const removeMessage = (chatId, messageId) => {\r\n    return {\r\n        type: REMOVE_MESSAGE,\r\n        chatId,\r\n        messageId,\r\n    };\r\n}\r\n\r\nexport const REMOVE_MESSAGE_WITH_SAGA = 'CHATS::REMOVE_MESSAGE_WITH_SAGA'\r\n\r\nexport const removeMessageWithSaga = (chatId, messageId) => {\r\n    return {\r\n        type: REMOVE_MESSAGE_WITH_SAGA,\r\n        chatId,\r\n        messageId,\r\n    };\r\n}","import React, { useCallback } from 'react';\n\nimport { useDispatch } from 'react-redux'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport { removeMessageWithSaga } from '../../store/actions/removeMessage';\n\nconst useStyles = makeStyles((theme) => ({\n\tbutton: {\n\t\tposition: 'absolute',\n\t\ttop: '0',\n\t\tright: '0',\n\t},\n\tmessage: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tmarginBottom: '10px',\n\t\tposition: 'relative',\n\t},\n\tmessageHeader: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageText: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t\twhiteSpace: 'pre-wrap'\n\t},\n\tmessageAuthor: {\n\t\ttextAlign: 'right',\n\t\tmargin: '10px 20px',\n\t},\n\tsmallText: {\n\t\tfontSize: '14px',\n\t\tcolor: '#AAA',\n\t\tfontWeight: 'normal',\n\t},\n}));\n\nfunction Message(props) {\n\n\t/*store*/\n\tconst dispatch = useDispatch();\n\n\t/*handles*/\n\tconst handleRemoveMessage = useCallback((chatId, messageId) => {\n\t\tdispatch(removeMessageWithSaga(chatId, messageId))\n\t}, [dispatch]);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\tprops.messages.map((message, i) =>\n\t\t\t<article key={message.id} className={classes.message} id={message.id}>\n\t\t\t\t<h2 className={classes.messageHeader}><span className={classes.smallText}>Theme:<br /></span>{message.header}</h2>\n\t\t\t\t<p className={classes.messageText}><span className={classes.smallText}>Message:<br /></span>{message.text}</p>\n\t\t\t\t<p className={classes.messageAuthor}><cite><span className={classes.smallText}>Author: </span>{message.author}</cite></p>\n\t\t\t\t<IconButton onClick={() => handleRemoveMessage(props.chatId, message.id)} aria-label=\"delete\" className={classes.button + \" delete-button\"} >\n\t\t\t\t\t<DeleteIcon color=\"secondary\" />\n\t\t\t\t</IconButton>\n\t\t\t</article>\n\t\t)\n\t);\n}\n\nexport default Message;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nfunction ChatList(props) {\n\n\t/*render*/\n\treturn (\n\t\t<List component=\"nav\" aria-label=\"main mailbox folders\">\n\t\t\t{Object.values(props.chats).map((chat) => \n\t\t\t\t<Link to={'/chats/'+chat.id}  className={props.classes.link} key={chat.id} >\n\t\t\t\t\t<ListItem button className={chat.id === props.chatId ? props.classes.active : props.classes.root} >\t\t\t\t\t\n\t\t\t\t\t\t<ListItemText primary={chat.name} />\n\t\t\t\t\t\t<IconButton aria-label=\"close\" onClick={(event) => props.handleRemoveChat(chat.id, event)}>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t</List>\n\t);\n\n}\n\nexport default ChatList;\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nfunction AddChatForm(props) {\n\t\n\t/*render*/\n\treturn (\n\t\t\t<form onSubmit={(event) => props.handleAddChat(props.chatName, event)} className={props.classes.addChatForm}>\n\t\t\t\t<TextField className={props.classes.chatName} value={props.chatName} onChange={props.hanldeChatName} id=\"outlined-basic\" label=\"Chat name\" variant=\"outlined\" size=\"small\"/>\n\t\t\t\t<Button value=\"Add\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tclassName={props.classes.button}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t>\n\t\t\t\tAdd chat\n\t\t\t\t</Button>\n\t\t\t</form>\n\t);\n}\n\nexport default AddChatForm;\n","export const ADD_CHAT = 'CHATS::ADD_CHAT'\r\n\r\nexport const addChat = (chatName) => {\r\n    return {\r\n        type: ADD_CHAT,\r\n        chatName\r\n    };\r\n}\r\n\r\nexport const ADD_CHAT_WITH_SAGA = 'CHATS::ADD_CHAT_WITH_SAGA'\r\n\r\nexport const addChatWithSaga = (chatName) => {\r\n    return {\r\n        type: ADD_CHAT_WITH_SAGA,\r\n        chatName\r\n    };\r\n}","export const REMOVE_CHAT = 'CHATS::REMOVE_CHAT'\r\n\r\nexport const removeChat = (chatId) => {\r\n    return {\r\n        type: REMOVE_CHAT,\r\n        chatId,\r\n    };\r\n}\r\n\r\nexport const REMOVE_CHAT_WITH_SAGA = 'CHATS::REMOVE_CHAT_WITH_SAGA'\r\n\r\nexport const removeChatWithSaga = (chatId) => {\r\n    return {\r\n        type: REMOVE_CHAT_WITH_SAGA,\r\n        chatId,\r\n    };\r\n}","export function getChats(state){ return state.chats};","export const INIT_CHATS = 'CHATS::INIT_CHATS'\n\nexport const initChats = (chats) => {\n    return {\n        type: INIT_CHATS,\n        chats\n    };\n}\n\nexport const INIT_CHATS_WITH_SAGA = 'CHATS::INIT_CHATS_WITH_SAGA'\n\nexport const initChatsWithSaga = () => {\n    return {\n        type: INIT_CHATS_WITH_SAGA,\n    };\n}","import React, { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ChatList from '../ChatList';\nimport AddChatForm from '../AddChatForm';\nimport { addChatWithSaga } from '../../store/actions/addChat';\nimport { removeChatWithSaga } from '../../store/actions/removeChat';\nimport { getChats } from '../../store/selectors/chatSelectors';\nimport { initChatsWithSaga } from '../../store/actions/initChats';\n\nconst useStyles = makeStyles((theme) => ({\n\tbutton: {\n\t\tcolor: '#fff',\n\t\twhiteSpace: 'noWrap',\n\t\theight: '100%',\n\t},\n\tlink: {\n\t\ttextDecoration: 'none',\n\t\tcolor: theme.palette.primary.main,\n\t},\n\tactive: {\n\t\tcolor: theme.palette.secondary.main,\n\t\tbackgroundColor: '#ccc',\n\t},\n\tchatName: {\n\t\tmarginRight: '10px',\n\t},\n\troot: {\n\t\tmaxWidth: '300px',\n\t\tpadding: '15px',\n\t},\n\taddChatForm: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t}\n}));\n\nfunction ChatListContainer(props) {\n\n\t/*state*/\n\tconst [chatName, setChatName] = useState('');\n\n\t/*store*/\n\tconst dispatch = useDispatch();\n\tconst chats = useSelector(getChats, shallowEqual);\n\n\t/*handles*/\n\tconst handleAddChat = useCallback((chatName, event) => {\n\t\tevent.preventDefault();\n\t\tdispatch(addChatWithSaga(chatName));\n\t\tsetChatName('');\n\t}, [dispatch]);\n\n\tconst handleRemoveChat = (chatId, event) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tdispatch(removeChatWithSaga(chatId));\n\t};\n\n\tconst hanldeChatName = (event) => {\n\t\tsetChatName(event.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(initChatsWithSaga());\n\t}, []);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AddChatForm handleAddChat={handleAddChat} classes={classes} chatName={chatName} hanldeChatName={hanldeChatName} />\n\t\t\t<ChatList chats={chats} classes={classes} handleRemoveChat={handleRemoveChat} chatId={props.chatId} />\n\t\t</div>\n\t);\n}\n\nexport default ChatListContainer;\n","export const ADD_MESSAGE = 'CHATS::ADD_MESSAGE'\r\n\r\nexport const addMessage = (chatId, messageTheme, messageText, messageAuthor) => {\r\n    return { \r\n        type: ADD_MESSAGE,\r\n\t\tchatId, \r\n\t\tmessageTheme, \r\n\t\tmessageText, \r\n\t\tmessageAuthor, \r\n    };\r\n}\r\n\r\nexport const ADD_MESSAGE_WITH_SAGA = 'CHATS::ADD_MESSAGE_WITH_SAGA'\r\n\r\nexport const addMessageWithSaga = (chatId, messageTheme, messageText, messageAuthor) => {\r\n    return { \r\n        type: ADD_MESSAGE_WITH_SAGA,\r\n\t\tchatId, \r\n\t\tmessageTheme, \r\n\t\tmessageText, \r\n\t\tmessageAuthor, \r\n    };\r\n}","export function getProfileCheckboxState(state){return state.profile.checkboxState};\r\nexport function getProfileName(state) {return state.profile.name};\r\nexport function getProfileWrongNameState(state){return state.profile.wrongName};","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\nimport TextField from '@material-ui/core/TextField';\n\nimport {addMessageWithSaga} from '../../store/actions/addMessage';\nimport {getProfileName} from '../../store/selectors/profileSelectors';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\t'& > *': {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\ttext: {\n\t\theight: 'auto',\n\t},\n\tbutton: {\n\t\talignSelf: 'flex-end',\n\t},\n}));\n\nfunction SendForm(props) {\n\t\n\t/*state*/\n\tconst [messageTheme, setMessageTheme] = useState('');\n\tconst [messageText, setMessageText] = useState('');\n\tconst messageAuthor = useSelector(getProfileName);\n\tconst formText = useRef(null);\n\n\t/*roures*/\n\tconst {chatId} = useParams();\n\t\n\t\n\t/*store*/\n\tconst dispatch = useDispatch();\n\t\n\t/*styles*/\n\tconst classes = useStyles();\n\t\n\t/*handles*/\n\tconst handleAddMessage = useCallback((chatId, messageTheme, messageText, messageAuthor, event) => {\n\t\tclearForm();\n\t\tformText.current.focus()\n\t\tif (event){event.preventDefault();}\n\t\tdispatch(addMessageWithSaga(chatId, messageTheme, messageText, messageAuthor));\n\t},[dispatch]);\n\t\n\tconst handleChangeTheme = (event) => {\n\t\tsetMessageTheme(event.target.value);\n\t};\n\t\n\tconst handleChangeText = (event) => {\n\t\tsetMessageText(event.target.value);\n\t};\n\t\n\tconst clearForm = () => {\n\t\tsetMessageTheme('');\n\t\tsetMessageText('');\n\t};\n\t\n\t/*effects*/\n\tuseEffect(() => {\n\t\tif(!!chatId) formText.current.focus();\n\t}, [chatId]);\n\t\n\treturn (\n\t\t<form action=\"\" onSubmit={(event) => handleAddMessage(chatId, messageTheme, messageText, messageAuthor, event)} className={classes.root} noValidate autoComplete=\"off\">\n\t\t\t<TextField className={classes.text} value={messageTheme} onChange={handleChangeTheme} id=\"outlined-basic\" label=\"Theme\" variant=\"outlined\"/>\n\t\t\t<TextField className={classes.text} value={messageText} onChange={handleChangeText} inputRef={formText} multiline={true} rows=\"5\" id=\"outlined-basic\" label=\"Message\" variant=\"outlined\"/>\n\t\t\t<Button type=\"submit\" value=\"Send\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tclassName={classes.button}\n\t\t\t\tendIcon={<Icon>send</Icon>}\n\t\t\t>\n\t\t\tSend\n\t\t\t</Button>\n\t\t</form>\n\t);\n}\n\nexport default SendForm;\n","import React from 'react';\nimport { useParams, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Message from '../Message'\nimport ChatListContainer from '../ChatListContainer'\nimport SendForm from '../SendForm'\n\nimport { getChats } from '../../store/selectors/chatSelectors';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-around',\n\t\tbackgroundColor: '#EEE',\n\t},\n\n\tchat: {\n\t\tmaxWidth: '700px',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tpadding: '15px',\n\t\tflexGrow: 1,\n\t}\n}));\n\nfunction Chat(props) {\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*roures*/\n\tconst { chatId } = useParams();\n\n\t/*store*/\n\n\tconst chats = useSelector(getChats);\n\n\t/*render*/\n\tif (!!chatId && !chats[chatId]) {\n\t\treturn <Redirect to=\"/chats\" />;\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ChatListContainer chatList={chats} active={chatId} chatId={chatId} />\n\t\t\t<div className={classes.chat}>\n\t\t\t\t<Message messages={(!!chatId && chats[chatId].messages) ? Object.values(chats[chatId].messages) : []} chatId={chatId} />\n\t\t\t\t{!!chatId && <SendForm />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Chat;\n","export const PROFILE_CHECKBOX = 'PROFILE::CHECKBOX'\r\n\r\nexport const toggleProfileCheckbox = (value) => {\r\n    return { \r\n        type: PROFILE_CHECKBOX,\r\n        checkboxState: value\r\n    };\r\n}","export const PROFILE_NAME = 'PROFILE::NAME'\r\nexport const SET_PROFILE_NAME_WITH_SAGA = 'PROFILE::SET_PROFILE_NAME_WITH_SAGA'\r\n\r\nexport const setProfileName = (value) => {\r\n    return {\r\n        type: PROFILE_NAME,\r\n        name: value\r\n    };\r\n}\r\n\r\nexport const setProfileNameWithSaga = (value) => {\r\n    return {\r\n        type: SET_PROFILE_NAME_WITH_SAGA,\r\n        name: value\r\n    };\r\n}","import { getAuth } from \"@firebase/auth\";\nimport { getDatabase } from \"@firebase/database\";\nimport { initializeApp } from \"firebase/app\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyClSDFFfyZOzOpDTXS3pbqR4tpMuhrsXW0\",\n  authDomain: \"supa-dupa-chat.firebaseapp.com\",\n  databaseURL: \"https://supa-dupa-chat-default-rtdb.firebaseio.com\",\n  projectId: \"supa-dupa-chat\",\n  storageBucket: \"supa-dupa-chat.appspot.com\",\n  messagingSenderId: \"656656094874\",\n  appId: \"1:656656094874:web:247f40f1bae0857ad07123\"\n};\n\nexport const firebaseInitialize = initializeApp(firebaseConfig);\nexport const auth = getAuth();\nexport const db = getDatabase();","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { signOut } from \"firebase/auth\";\nimport { ref, onValue } from '@firebase/database';\n\nimport { toggleProfileCheckbox } from '../../store/actions/toggleProfileCheckbox'\nimport { setProfileNameWithSaga } from '../../store/actions/setProfileName'\nimport { getProfileCheckboxState, getProfileWrongNameState } from '../../store/selectors/profileSelectors';\nimport { db, auth } from '../../services/firebase';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tbackgroundColor: '#EEE',\n\t\tflexDirection: 'column',\n\t},\n\tprofileName: {\n\t\tposition: 'relative',\n\t},\n\twrongName: {\n\t\tposition: 'absolute',\n\t\ttop: '0',\n\t\tleft: 'calc(50% - 60px)',\n\t\tdisplay: 'block',\n\t\tpadding: '10px',\n\t\tbackground: '#de2345',\n\t},\n\thidden: {\n\t\tvisibility: 'hidden',\n\t},\n}));\n\nfunction Profile(props) {\n\n\t/*state*/\n\tconst [newProfileName, setNewProfileName] = useState('');\n\tconst [profileName, setProfileName] = useState('');\n\n\t/*store*/\n\tconst profileCheckboxState = useSelector(getProfileCheckboxState);\n\t// const profileName = useSelector(getProfileName);\n\tconst dispatch = useDispatch();\n\tconst wrongName = useSelector(getProfileWrongNameState);\n\n\t/*handles*/\n\tconst handleCheckbox = () => {\n\t\tdispatch(toggleProfileCheckbox(!profileCheckboxState));\n\t};\n\n\tconst handleProfileName = (event) => {\n\t\tevent.preventDefault();\n\t\tdispatch(setProfileNameWithSaga(newProfileName));\n\t\tsetNewProfileName('');\n\t};\n\n\tconst handleNewProfileName = (event) => {\n\t\tsetNewProfileName(event.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tconst userName = ref(db, `profile/${auth.currentUser.uid}/username`);\n\t\tonValue(userName, (snapshot) => {\n\t\t\tconst data = snapshot.val();\n\t\t\tsetProfileName(data);\n\t\t});\n\t}, []);\n\n\n\tconst signOutUser = () => {\n\t\tsignOut(auth).then(() => {\n\t\t}).catch((error) => {\n\t\t});\n\t};\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<h1>My Profile</h1>\n\t\t\t<div>\n\t\t\t\t<form onSubmit={handleProfileName} className={classes.profileName}>\n\t\t\t\t\t<TextField required className={classes.profileName} value={newProfileName} onChange={handleNewProfileName} id=\"standard-basic\" label=\"Enter your name\" variant=\"standard\" />\n\t\t\t\t\t<span className={(wrongName ? \"\" : classes.hidden) + \" \" + classes.wrongName}>Wrong name!</span>\n\t\t\t\t</form>\n\t\t\t\t<input id=\"display-my-name\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tchecked={profileCheckboxState}\n\t\t\t\t\tonChange={handleCheckbox}\n\t\t\t\t\tvalue={profileCheckboxState}>\n\t\t\t\t</input>\n\t\t\t\t<label htmlFor=\"display-my-name\">Display my name</label>\n\t\t\t</div>\n\t\t\t<p className={profileCheckboxState ? \"\" : classes.hidden}>{profileName}</p>\n\t\t\t<button onClick={signOutUser}>Sign Out</button>\n\t\t</div>\n\t);\n}\n\nexport default Profile;\n","export function getNewsList(state){ return state.news.newsList};\r\nexport function getNewsErrorStatus(state){ return state.news.error.status};\r\nexport function getNewsErrorMessage(state){ return state.news.error.message};\r\nexport function getNewsRequestStatus(state){ return state.news.status};","export const GET_NEWS_REQUEST = 'NEWS::GET_NEWS_REQUEST'\r\nexport const GET_NEWS_SUCCESS = 'NEWS::GET_NEWS_SUCCESS'\r\nexport const GET_NEWS_FAILURE = 'NEWS::GET_NEWS_FAILURE'\r\nexport const GET_NEWS_WITH_SAGA = 'NEWS::GET_NEWS_WITH_SAGA'\r\n\r\nexport const getNewsRequest = () => {\r\n    return { \r\n        type: GET_NEWS_REQUEST,\r\n    };\r\n}\r\n\r\nexport const getNewsSuccess = (news) => {\r\n    return { \r\n        type: GET_NEWS_SUCCESS,\r\n\t\tnews\r\n    };\r\n}\r\n\r\n\r\nexport const getNewsFailure = (errorMessage) => {\r\n    return { \r\n        type: GET_NEWS_FAILURE,\r\n\t\terrorMessage\r\n    };\r\n}\r\n\r\n\r\nexport const getNewsWithSaga = () => {\r\n    return { \r\n        type: GET_NEWS_WITH_SAGA,\r\n    };\r\n}","export const URL_NEWS = \"https://api.currentsapi.services/v1/latest-news?language=ru&apiKey=6qmiCnF5XcC6Zt8s4fj5gRg9kBKB58XFqw8Rw6QqsYOtD1M8\";\r\nexport const URL_WEATHER = 'https://api.openweathermap.org/data/2.5/weather?id=498817&appid=f0694cc740867c7440b3be0552c0bf8f';\r\nexport const STATUSES = {\r\n\tIDLE: 'idle',\r\n\tREQUEST: 'request',\r\n\tSUCCESS: 'success',\r\n\tFAILURE: 'failure'\r\n};","import React, {useCallback, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {getNewsList, getNewsErrorStatus, getNewsErrorMessage, getNewsRequestStatus} from '../../store/selectors/newsSelectors';\nimport {getNewsWithSaga} from '../../store/actions/getNews';\nimport {STATUSES} from '../../utils/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tlistStyle: 'none',\n\t},\n\tnewsItem: {\n\t\tdisplay: 'block',\n\t\ttextDecoration: 'none',\n\t\tcolor: theme.palette.primary.main,\n\t\tmarginBottom: '10px',\n\t\t\n\t\t'&:visited':{\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t},\n\t},\n}));\n\nfunction News(props) {\n\t/*styles*/\n\tconst classes = useStyles();\n\t\n\tconst newsList = useSelector(getNewsList);\n\tconst isError = useSelector(getNewsErrorStatus);\n\tconst newsErrorMessage = useSelector(getNewsErrorMessage);\n\tconst newsRequestStatus = useSelector(getNewsRequestStatus);\n\tconst dispatch = useDispatch();\n\t\n\tconst handleFetchNews = useCallback(() => {\n\t\tdispatch(getNewsWithSaga());\n\t});\n\t\n\tuseEffect(() => {\n\t\thandleFetchNews();\n\t}, []);\n\t\n\tconst renderNews = useCallback(\n    (newsItem) => <li key={newsItem.id}><a href={newsItem.url} target=\"_blank\" rel=\"noreferrer\" className={classes.newsItem}>{newsItem.title || 'No description'}</a></li>,\n    []\n  );\n  \n\tif (isError) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<p>{newsErrorMessage}</p>\n\t\t\t\t<button onClick={handleFetchNews}>reload</button>\n\t\t\t</>\n\t\t)\n\t};\n\tif (newsRequestStatus === STATUSES.REQUEST){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<p>Loading...</p>\n\t\t\t</>\n\t\t)\n\t}\n\treturn (\n\t<>\n\t\t\n\t\t<ul className={classes.root}>{newsList.map(renderNews)}</ul>\n\t</>\n\t);\n}\n\nexport default News;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom'\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../../services/firebase';\n\nfunction SignUp() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handlePassChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      await createUserWithEmailAndPassword(auth, email, password);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <p>Fill in the form below to register new account.</p>\n        <div>\n          <input\n            placeholder=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={handleEmailChange}\n            value={email}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={handlePassChange}\n            value={password}\n            type=\"password\"\n          />\n        </div>\n        <div>\n          {error && <p>{error}</p>}\n          <button type=\"submit\">Login</button>\n        </div>\n        <hr />\n        <p>\n          Already have an account? <Link to=\"/login\">Sign in</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\nexport default SignUp","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom'\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../../services/firebase';\n\nfunction LogIn() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handlePassChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <p>Fill in the form below to login to your account.</p>\n        <div>\n          <input\n            placeholder=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={handleEmailChange}\n            value={email}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={handlePassChange}\n            value={password}\n            type=\"password\"\n          />\n        </div>\n        <div>\n          {error && <p>{error}</p>}\n          <button type=\"submit\">Login</button>\n        </div>\n        <hr />\n        <p>\n          Don't have an account? <Link to=\"/signup\">Sign up</Link>\n        </p>\n      </form>\n    </div>\n  );\n};\nexport default LogIn","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function PrivateRoute({ authenticated, ...rest }) {\n  return authenticated ? (\n    <Route {...rest} />\n  ) : (\n    <Redirect to={{ pathname: \"/login\" }} />\n  );\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function PublicRoute({ authenticated, ...rest }) {\n  return !authenticated ? <Route {...rest} /> : <Redirect to=\"/chats\" />;\n}","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter, Route, Switch, Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { onAuthStateChanged } from \"firebase/auth\";\n\nimport Main from '../Main';\nimport Chat from '../Chat';\nimport Profile from '../Profile';\nimport News from '../News';\nimport SignUp from '../SignUp';\nimport LogIn from '../LogIn';\nimport PrivateRoute from '../../hocs/PrivateRoute';\nimport PublicRoute from '../../hocs/PublicRoute';\nimport { auth } from '../../services/firebase';\n\nconst useStyles = makeStyles((theme) => ({\n\theader: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-around',\n\t\tminHeight: '50px',\n\t\talignItems: 'center',\n\n\t\t'&>a': {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\theight: '50px',\n\t\t\ttextDecoration: 'none',\n\t\t\tbackgroundColor: '#ccc',\n\t\t\tcolor: '#708238',\n\t\t\tpadding: '0 30px',\n\t\t}\n\t},\n\tmessage: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tmarginBottom: '10px',\n\t\tposition: 'relative',\n\t},\n\tmessageHeader: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageText: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageAuthor: {\n\t\ttextAlign: 'right',\n\t\tmargin: '10px 20px',\n\t},\n\tsmallText: {\n\t\tfontSize: '14px',\n\t\tcolor: '#AAA',\n\t\tfontWeight: 'normal',\n\t},\n}));\n\nfunction App() {\n\n\tconst [authed, setAuthed] = useState(false);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\tuseEffect(() => {\n\t\tconst unsubscribe = onAuthStateChanged(auth, (user) => {\n\t\t\tif (user) {\n\t\t\t\t//const uid = user.uid;\n\t\t\t\tsetAuthed(true);\n\t\t\t} else {\n\t\t\t\tsetAuthed(false);\n\t\t\t}\n\t\t});\n\t\treturn unsubscribe;\n\t}, []);\n\n\t/*render*/\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<header className={classes.header}>\n\t\t\t\t<Link to='/'>Main</Link>\n\t\t\t\t<Link to='/chats'>Chats</Link>\n\t\t\t\t<Link to='/profile'>Profile</Link>\n\t\t\t\t<Link to='/news'>News</Link>\n\t\t\t\t<Link to='/signup'>Registration</Link>\n\t\t\t\t<Link to='/login'>Login</Link>\n\t\t\t</header>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute authenticated={authed} path=\"/chats/:chatId?\">\n\t\t\t\t\t<Chat />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PrivateRoute authenticated={authed} path='/profile'>\n\t\t\t\t\t<Profile />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path='/nochat'>\n\t\t\t\t\t<h4>Здесь рыбы нет</h4>\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PrivateRoute authenticated={authed} path='/news'>\n\t\t\t\t\t<News />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path='/signup'>\n\t\t\t\t\t<SignUp />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path='/login'>\n\t\t\t\t\t<LogIn />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PublicRoute exact authenticated={authed} path='/'>\n\t\t\t\t\t<Main />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<Route authenticated={authed}>\n\t\t\t\t\t<h4>404</h4>\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</BrowserRouter>\n\t);\n}\n\nexport default App;\n","import {STATUSES} from '../utils/constants';\r\n\r\nconst initialState = {\r\n\tprofile: {\r\n\t\tcheckboxState: false,\r\n\t\tname:'Name',\r\n\t\twrongName: false,\r\n\t},\r\n\tchats: {\r\n\t\t\t'chatId1':{\r\n\t\t\t\tname: 'chat1',\r\n\t\t\t\tid: 'chatId1',\r\n\t\t\t\tmessages: []\r\n\t\t\t},\r\n\t\t\t'chatId2':{\r\n\t\t\t\tname: 'chat2',\r\n\t\t\t\tid: 'chatId2',\r\n\t\t\t\tmessages: []\r\n\t\t\t}},\r\n\tnews: {\r\n\t\tnewsList: [],\r\n\t\terror: {status: false, message:''},\r\n\t\tstatus: STATUSES.IDLE,\r\n\t},\r\n\t\r\n};\r\n\r\nexport default initialState;","import {PROFILE_CHECKBOX} from '../actions/toggleProfileCheckbox'\r\nimport {PROFILE_NAME} from '../actions/setProfileName'\r\n\r\nfunction profileReducer(state = false, action) {\r\n    switch(action.type) {\r\n        case PROFILE_CHECKBOX: return {...state, checkboxState: action.checkboxState};\r\n\t\t\r\n\t\tcase PROFILE_NAME: \r\n\t\t\tif (!/bot/i.test(action.name)) return {...state, name: action.name, wrongName: false};\r\n\t\t\telse return {...state, wrongName: true}\r\n        \r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import { ADD_CHAT } from '../actions/addChat'\r\nimport { REMOVE_CHAT } from '../actions/removeChat'\r\nimport { ADD_MESSAGE } from '../actions/addMessage'\r\nimport { REMOVE_MESSAGE } from '../actions/removeMessage'\r\n\r\n\r\nimport initialState from '../initialState'\r\nimport { INIT_CHATS } from '../actions/initChats'\r\nconst { chats } = initialState;\r\n\r\nfunction chatReducer(state = chats, action) {\r\n\tswitch (action.type) {\r\n\t\tcase INIT_CHATS:\r\n\t\t\treturn {\r\n\t\t\t\t...action.chats\r\n\t\t\t};\r\n\r\n\t\tcase ADD_CHAT:\r\n\t\t\tconst newChatId = `chatId${+new Date()}`;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[newChatId]: { name: action.chatName, id: newChatId, messages: [] }\r\n\t\t\t};\r\n\r\n\t\tcase REMOVE_CHAT:\r\n\t\t\tdelete state[action.chatId];\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\tif (!!action.chatId && !!state[action.chatId]) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t[action.chatId]: {\r\n\t\t\t\t\t\t...state[action.chatId],\r\n\t\t\t\t\t\tmessages: [...state[action.chatId].messages, { header: action.messageTheme, text: action.messageText, author: action.messageAuthor, id: `message-${+(new Date())}` }]\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn state;\r\n\r\n\t\tcase REMOVE_MESSAGE:\r\n\t\t\tconst newMessages = !!action.chatId && !!state[action.chatId] && state[action.chatId].messages.filter(({ id }) => id !== action.messageId);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[action.chatId]: {\r\n\t\t\t\t\t...state[action.chatId],\r\n\t\t\t\t\tmessages: [...newMessages]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nexport default chatReducer;","import {GET_NEWS_REQUEST, GET_NEWS_SUCCESS, GET_NEWS_FAILURE} from '../actions/getNews'\r\nimport {STATUSES} from '../../utils/constants';\r\n\r\nconst initialState = {news: [], error: {status: false, message: ''}, status: 'idle'};\r\n\r\nfunction newsReducer(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_NEWS_REQUEST: return {...state, error: {...state.error, status: false}, status: STATUSES.REQUEST};\r\n\t\t\r\n\t\tcase GET_NEWS_SUCCESS: return {...state, newsList: action.news, status: STATUSES.SUCCESS};\r\n\t\t\r\n\t\tcase GET_NEWS_FAILURE: return {...state, error: {...state.error, status: true, message: action.errorMessage}, status: STATUSES.FAILURE};\r\n\t\t\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default newsReducer;","import { URL_WEATHER } from '../../utils/constants';\n\nimport { ref, update, remove } from '@firebase/database';\nimport { db } from '../../services/firebase';\nimport { call, delay } from '@redux-saga/core/effects';\n\nconst fetchData = (url) => fetch(url)\n    .then(result => {\n        if (!result.ok) throw Error(result.status + ' ' + result.statusText);\n        return result.json();\n    })\n    .then(data => data)\n    .catch(err => {\n        throw err;\n    });\n\nexport const onAddMessageWithSaga = function* (action) {\n    try {\n        const newMessageId = yield `message-${+new Date()}`;\n        const message = yield ref(db, `chats/${action.chatId}/messages/${newMessageId}`);\n        yield update(message, { id: newMessageId, header: action.messageTheme, text: action.messageText, author: action.messageAuthor });\n        if (action.messageAuthor !== 'Bot') {\n            try {\n                yield delay(2000);\n                const weatherData = yield call(fetchData, URL_WEATHER);\n                const newBotMessageId = yield `message-${+new Date()}`;\n                const botMessage = yield ref(db, `chats/${action.chatId}/messages/${newBotMessageId}`);\n                yield update(botMessage, { id: newBotMessageId, header: 'Погода', text: `Погода в Питере ${weatherData.clouds.all > 50 ? \"облачная\" : \"безоблачная\"}\\nТемпература ${(weatherData.main.temp - 273).toFixed(1)} °C\\nВлажность ${weatherData.main.humidity} %\\nСкорость ветра ${weatherData.wind.speed} м/с`, author: 'Bot' });\n            } catch (err) {\n                console.log(err.message);\n                //yield put(addMessage(action.chatId, 'Ошибка', err.message, 'Bot'));\n            }\n        }\n    } catch (err) {\n        console.log(err)\n    };\n}\n\nexport const onRemoveMessageWithSaga = function* (action) {\n    try {\n        const message = yield ref(db, `chats/${action.chatId}/messages/${action.messageId}`);\n        yield remove(message);\n    } catch (err) {\n        console.log(err);\n    };\n}","import { put } from 'redux-saga/effects';\n\nimport { setProfileName } from '../actions/setProfileName';\nimport { ref, set } from '@firebase/database';\nimport { auth, db } from '../../services/firebase';\n\nexport const onSetProfileNameWithSaga = function* (action) {\n    try {\n        yield put(setProfileName(action.name));\n        yield set(ref(db, `profile/${auth.currentUser.uid}`), {\n            username: action.name\n        });\n    } catch (err) {\n        yield console.log(err.message);\n    }\n}","import { put, call } from 'redux-saga/effects';\n\nimport { getNewsRequest, getNewsSuccess, getNewsFailure } from '../actions/getNews';\nimport { URL_NEWS } from '../../utils/constants';\n\nconst fetchData = (url) => fetch(url)\n    .then(result => {\n        if (!result.ok) throw Error(result.status + ' ' + result.statusText);\n        return result.json();\n    })\n    .then(data => data)\n    .catch(err => {\n        throw err;\n    });\n\nexport const onGetNewsWithSaga = function* (action) {\n    try {\n        yield put(getNewsRequest());\n        const news = yield call(fetchData, URL_NEWS);\n        yield put(getNewsSuccess(news.news));\n    } catch (err) {\n        yield put(getNewsFailure(err.message));\n    }\n}","import { db } from '../../services/firebase';\nimport { ref, onValue, set, remove } from '@firebase/database';\n\nimport { initChats } from '../actions/initChats';\nimport { store } from '../store';\n\nexport const onInitChatsWithSaga = function* () {\n    try {\n        const chats = yield ref(db, `chats`);\n        yield onValue(chats, (snapshot) => {\n            const data = snapshot.val();\n            store.dispatch(initChats(data || {}));\n        });\n    } catch (err) {\n        console.log(err.message);\n    }\n\n}\n\nexport const onAddChatWithSaga = function* (action) {\n    try {\n        const newChatId = yield `chatId${+new Date()}`;\n        const newChat = yield ref(db, `chats/${newChatId}`);\n        yield set(newChat, {\n            name: action.chatName, id: newChatId, messages: ''\n        });\n    } catch (err) {\n        console.log(err);\n    };\n}\n\nexport const onRemoveChatWithSaga = function* (action) {\n    try {\n        const chatId = yield ref(db, `chats/${action.chatId}`);\n        yield remove(chatId);\n    } catch (err) {\n        console.log(err);\n    }\n}\n","import { takeEvery, takeLatest } from 'redux-saga/effects';\r\n\r\nimport { ADD_MESSAGE_WITH_SAGA } from './actions/addMessage';\r\nimport { onAddMessageWithSaga, onRemoveMessageWithSaga } from './sagas/messagesSaga';\r\nimport { SET_PROFILE_NAME_WITH_SAGA } from './actions/setProfileName';\r\nimport { onSetProfileNameWithSaga } from './sagas/profileSaga';\r\nimport { GET_NEWS_WITH_SAGA } from './actions/getNews';\r\nimport { onGetNewsWithSaga } from './sagas/newsSaga';\r\nimport { INIT_CHATS_WITH_SAGA } from './actions/initChats';\r\nimport { ADD_CHAT_WITH_SAGA } from './actions/addChat';\r\nimport { onInitChatsWithSaga, onAddChatWithSaga, onRemoveChatWithSaga } from './sagas/chatsSaga';\r\nimport { REMOVE_CHAT_WITH_SAGA } from './actions/removeChat';\r\nimport { REMOVE_MESSAGE_WITH_SAGA } from './actions/removeMessage';\r\n\r\nfunction* mySaga() {\r\n\tyield takeEvery(ADD_MESSAGE_WITH_SAGA, onAddMessageWithSaga);\r\n\tyield takeEvery(REMOVE_MESSAGE_WITH_SAGA, onRemoveMessageWithSaga);\r\n\tyield takeLatest(GET_NEWS_WITH_SAGA, onGetNewsWithSaga);\r\n\tyield takeLatest(SET_PROFILE_NAME_WITH_SAGA, onSetProfileNameWithSaga);\r\n\tyield takeLatest(INIT_CHATS_WITH_SAGA, onInitChatsWithSaga);\r\n\tyield takeLatest(ADD_CHAT_WITH_SAGA, onAddChatWithSaga);\r\n\tyield takeLatest(REMOVE_CHAT_WITH_SAGA, onRemoveChatWithSaga);\r\n\r\n}\r\n\r\nexport default mySaga;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\n\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport initialState from './initialState'\r\n\r\nimport profile from './reducers/profileReducer'\r\nimport chats from './reducers/chatReducer'\r\nimport news from './reducers/newsReducer'\r\nimport mySaga from './sagas.js'\r\n\r\nconst combine = combineReducers({profile, chats, news});\r\n\r\nconst onErrorSaga = (error, stack) => {console.log('qqq'+error); console.log(stack)}; \r\nconst options = {onError: onErrorSaga};\r\nconst sagaMiddleware = createSagaMiddleware(options);\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, combine);\r\n\r\nexport const store = createStore(\r\n\tpersistedReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(sagaMiddleware)));\r\n\t\r\nsagaMiddleware.run(mySaga);\r\n\r\nexport const persistor = persistStore(store);\r\n\r\n","import React from 'react';\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/es/integration/react'\n\nimport { ThemeProvider, createTheme } from \"@material-ui/core/styles\";\n\nimport './App.css'\nimport Router from './components/Router'\nimport { store } from './store/store'\nimport { persistor } from './store/store'\n\nconst mainTheme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: \"#708238\",\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: \"#0098FF\",\n\t\t},\n\t},\n});\n\nfunction App() {\n\t/*render*/\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<PersistGate persistor={persistor}>\n\t\t\t\t<ThemeProvider theme={mainTheme}>\n\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t<Router />\n\t\t\t\t\t</div>\n\t\t\t\t</ThemeProvider>\n\t\t\t</PersistGate>\n\t\t</Provider>\n\t);\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}