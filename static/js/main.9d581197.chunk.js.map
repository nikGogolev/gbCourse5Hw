{"version":3,"sources":["store/actions/initProfileName.js","components/Main/index.js","store/actions/removeMessage.js","components/Message/index.js","components/ChatList/index.js","components/AddChatForm/index.js","store/actions/addChat.js","store/actions/removeChat.js","store/selectors/chatSelectors.js","store/actions/initChats.js","components/ChatListContainer/index.js","store/actions/addMessage.js","store/selectors/profileSelectors.js","components/SendForm/index.js","components/Chat/index.js","store/actions/setProfileName.js","services/firebase.js","components/Profile/index.js","store/selectors/newsSelectors.js","store/actions/getNews.js","utils/constants.js","components/News/index.js","components/SignUp/index.js","components/LogIn/index.js","hocs/PrivateRoute.js","hocs/PublicRoute.js","components/Router/index.js","store/initialState.js","store/reducers/profileReducer.js","store/reducers/chatReducer.js","store/reducers/newsReducer.js","store/sagas/messagesSaga.js","store/sagas/profileSaga.js","store/sagas/newsSaga.js","store/sagas/chatsSaga.js","store/sagas.js","store/store.js","App.js","reportWebVitals.js","index.js"],"names":["INIT_PROFILE_NAME","INIT_PROFILE_NAME_WITH_SAGA","initProfileNameWithSaga","type","Main","props","className","to","REMOVE_MESSAGE","REMOVE_MESSAGE_WITH_SAGA","useStyles","makeStyles","theme","button","position","top","right","message","border","borderRadius","marginBottom","messageHeader","textAlign","margin","messageText","whiteSpace","messageAuthor","smallText","fontSize","color","fontWeight","Message","dispatch","useDispatch","handleRemoveMessage","useCallback","chatId","messageId","removeMessageWithSaga","classes","messages","map","i","id","header","text","author","IconButton","onClick","ChatList","List","component","Object","values","chats","chat","link","ListItem","active","root","ListItemText","primary","name","event","handleRemoveChat","AddChatForm","onSubmit","handleAddChat","chatName","addChatForm","TextField","value","onChange","hanldeChatName","label","variant","size","Button","ADD_CHAT","ADD_CHAT_WITH_SAGA","REMOVE_CHAT","REMOVE_CHAT_WITH_SAGA","getChats","state","INIT_CHATS","initChats","INIT_CHATS_WITH_SAGA","height","textDecoration","palette","main","secondary","backgroundColor","marginRight","maxWidth","padding","display","alignItems","ChatListContainer","useState","setChatName","useSelector","shallowEqual","preventDefault","addChatWithSaga","useEffect","target","stopPropagation","removeChatWithSaga","ADD_MESSAGE","ADD_MESSAGE_WITH_SAGA","getProfileName","profile","getProfileWrongNameState","wrongName","flexDirection","spacing","alignSelf","SendForm","messageTheme","setMessageTheme","setMessageText","formText","useRef","useParams","handleAddMessage","clearForm","current","focus","addMessageWithSaga","action","noValidate","autoComplete","inputRef","multiline","rows","endIcon","Icon","justifyContent","flexGrow","Chat","chatList","PROFILE_NAME","SET_PROFILE_NAME_WITH_SAGA","auth","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getDatabase","profileName","left","background","hidden","visibility","Profile","newProfileName","setNewProfileName","setProfileName","userName","ref","currentUser","uid","onValue","snapshot","data","val","required","signOut","then","catch","error","getNewsList","news","newsList","getNewsErrorStatus","status","getNewsErrorMessage","getNewsRequestStatus","GET_NEWS_REQUEST","GET_NEWS_SUCCESS","GET_NEWS_FAILURE","GET_NEWS_WITH_SAGA","getNewsSuccess","STATUSES","listStyle","newsItem","News","isError","newsErrorMessage","newsRequestStatus","handleFetchNews","renderNews","href","url","rel","title","SignUp","email","setEmail","password","setPassword","setError","handleSubmit","e","a","createUserWithEmailAndPassword","placeholder","LogIn","signInWithEmailAndPassword","PrivateRoute","authenticated","rest","pathname","PublicRoute","minHeight","App","authed","setAuthed","onAuthStateChanged","user","path","exact","initialState","checkboxState","profileReducer","test","chatReducer","newChatId","Date","newMessages","filter","newsReducer","errorMessage","onAddMessageWithSaga","newMessageId","update","console","log","onRemoveMessageWithSaga","remove","onSetProfileNameWithSaga","put","set","username","onInitProfileNameWithSaga","get","fetchData","fetch","result","ok","Error","statusText","json","err","onGetNewsWithSaga","call","onInitChatsWithSaga","store","onAddChatWithSaga","newChat","users","onRemoveChatWithSaga","mySaga","takeEvery","takeLatest","combine","combineReducers","options","onError","stack","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","key","storage","persistedReducer","persistReducer","createStore","applyMiddleware","run","persistor","persistStore","mainTheme","createTheme","ThemeProvider","Router","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9d581197.chunk.js","sourcesContent":["export const INIT_PROFILE_NAME = 'PROFILE::INIT_PROFILE_NAME'\r\nexport const INIT_PROFILE_NAME_WITH_SAGA = 'PROFILE::INIT_PROFILE_NAME_WITH_SAGA'\r\n\r\nexport const initProfileName = (value) => {\r\n    return {\r\n        type: INIT_PROFILE_NAME,\r\n        name: value\r\n    };\r\n}\r\n\r\nexport const initProfileNameWithSaga = () => {\r\n    return {\r\n        type: INIT_PROFILE_NAME_WITH_SAGA,\r\n    };\r\n}","import React from 'react';\nimport {Link} from 'react-router-dom'\n\n\n\nfunction Main(props) {\n\t\n\n\t\n\n\treturn (\n\t\t<div className=\"main-container\">\n\t\t\t<h1>Welcome to chat</h1>\n\t\t\t<div>\n\t\t\t\t<Link to=\"/login\">Sign In</Link>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Link to=\"/signup\">Sign Up</Link>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t);\n}\n\nexport default Main;\n","export const REMOVE_MESSAGE = 'CHATS::REMOVE_MESSAGE'\r\n\r\nexport const removeMessage = (chatId, messageId) => {\r\n    return {\r\n        type: REMOVE_MESSAGE,\r\n        chatId,\r\n        messageId,\r\n    };\r\n}\r\n\r\nexport const REMOVE_MESSAGE_WITH_SAGA = 'CHATS::REMOVE_MESSAGE_WITH_SAGA'\r\n\r\nexport const removeMessageWithSaga = (chatId, messageId) => {\r\n    return {\r\n        type: REMOVE_MESSAGE_WITH_SAGA,\r\n        chatId,\r\n        messageId,\r\n    };\r\n}","import React, { useCallback } from 'react';\n\nimport { useDispatch } from 'react-redux'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport { removeMessageWithSaga } from '../../store/actions/removeMessage';\n\nconst useStyles = makeStyles((theme) => ({\n\tbutton: {\n\t\tposition: 'absolute',\n\t\ttop: '0',\n\t\tright: '0',\n\t},\n\tmessage: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tmarginBottom: '10px',\n\t\tposition: 'relative',\n\t},\n\tmessageHeader: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageText: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t\twhiteSpace: 'pre-wrap'\n\t},\n\tmessageAuthor: {\n\t\ttextAlign: 'right',\n\t\tmargin: '10px 20px',\n\t},\n\tsmallText: {\n\t\tfontSize: '14px',\n\t\tcolor: '#AAA',\n\t\tfontWeight: 'normal',\n\t},\n}));\n\nfunction Message(props) {\n\n\t/*store*/\n\tconst dispatch = useDispatch();\n\n\t/*handles*/\n\tconst handleRemoveMessage = useCallback((chatId, messageId) => {\n\t\tdispatch(removeMessageWithSaga(chatId, messageId))\n\t}, [dispatch]);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\tprops.messages.map((message, i) =>\n\t\t\t<article key={message.id} className={classes.message} id={message.id}>\n\t\t\t\t<h2 className={classes.messageHeader}><span className={classes.smallText}>Theme:<br /></span>{message.header}</h2>\n\t\t\t\t<p className={classes.messageText}><span className={classes.smallText}>Message:<br /></span>{message.text}</p>\n\t\t\t\t<p className={classes.messageAuthor}><cite><span className={classes.smallText}>Author: </span>{message.author}</cite></p>\n\t\t\t\t<IconButton onClick={() => handleRemoveMessage(props.chatId, message.id)} aria-label=\"delete\" className={classes.button + \" delete-button\"} >\n\t\t\t\t\t<DeleteIcon color=\"secondary\" />\n\t\t\t\t</IconButton>\n\t\t\t</article>\n\t\t)\n\t);\n}\n\nexport default Message;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nfunction ChatList(props) {\n\n\t/*render*/\n\treturn (\n\t\t<List component=\"nav\" aria-label=\"main mailbox folders\">\n\t\t\t{Object.values(props.chats).map((chat) => \n\t\t\t\t<Link to={'/gbCourse5Hw/chats/'+chat.id}  className={props.classes.link} key={chat.id} >\n\t\t\t\t\t<ListItem button className={chat.id === props.chatId ? props.classes.active : props.classes.root} >\t\t\t\t\t\n\t\t\t\t\t\t<ListItemText primary={chat.name} />\n\t\t\t\t\t\t<IconButton aria-label=\"close\" onClick={(event) => props.handleRemoveChat(chat.id, event)}>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t</List>\n\t);\n\n}\n\nexport default ChatList;\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nfunction AddChatForm(props) {\n\t\n\t/*render*/\n\treturn (\n\t\t\t<form onSubmit={(event) => props.handleAddChat(props.chatName, event)} className={props.classes.addChatForm}>\n\t\t\t\t<TextField className={props.classes.chatName} value={props.chatName} onChange={props.hanldeChatName} id=\"outlined-basic\" label=\"Chat name\" variant=\"outlined\" size=\"small\"/>\n\t\t\t\t<Button value=\"Add\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tclassName={props.classes.button}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t>\n\t\t\t\tAdd chat\n\t\t\t\t</Button>\n\t\t\t</form>\n\t);\n}\n\nexport default AddChatForm;\n","export const ADD_CHAT = 'CHATS::ADD_CHAT'\r\n\r\nexport const addChat = (chatName) => {\r\n    return {\r\n        type: ADD_CHAT,\r\n        chatName\r\n    };\r\n}\r\n\r\nexport const ADD_CHAT_WITH_SAGA = 'CHATS::ADD_CHAT_WITH_SAGA'\r\n\r\nexport const addChatWithSaga = (chatName) => {\r\n    return {\r\n        type: ADD_CHAT_WITH_SAGA,\r\n        chatName\r\n    };\r\n}","export const REMOVE_CHAT = 'CHATS::REMOVE_CHAT'\r\n\r\nexport const removeChat = (chatId) => {\r\n    return {\r\n        type: REMOVE_CHAT,\r\n        chatId,\r\n    };\r\n}\r\n\r\nexport const REMOVE_CHAT_WITH_SAGA = 'CHATS::REMOVE_CHAT_WITH_SAGA'\r\n\r\nexport const removeChatWithSaga = (chatId) => {\r\n    return {\r\n        type: REMOVE_CHAT_WITH_SAGA,\r\n        chatId,\r\n    };\r\n}","export function getChats(state){ return state.chats};","export const INIT_CHATS = 'CHATS::INIT_CHATS'\n\nexport const initChats = (chats) => {\n    return {\n        type: INIT_CHATS,\n        chats\n    };\n}\n\nexport const INIT_CHATS_WITH_SAGA = 'CHATS::INIT_CHATS_WITH_SAGA'\n\nexport const initChatsWithSaga = () => {\n    return {\n        type: INIT_CHATS_WITH_SAGA,\n    };\n}","import React, { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ChatList from '../ChatList';\nimport AddChatForm from '../AddChatForm';\nimport { addChatWithSaga } from '../../store/actions/addChat';\nimport { removeChatWithSaga } from '../../store/actions/removeChat';\nimport { getChats } from '../../store/selectors/chatSelectors';\nimport { initChatsWithSaga } from '../../store/actions/initChats';\n\nconst useStyles = makeStyles((theme) => ({\n\tbutton: {\n\t\tcolor: '#fff',\n\t\twhiteSpace: 'noWrap',\n\t\theight: '100%',\n\t},\n\tlink: {\n\t\ttextDecoration: 'none',\n\t\tcolor: theme.palette.primary.main,\n\t},\n\tactive: {\n\t\tcolor: theme.palette.secondary.main,\n\t\tbackgroundColor: '#ccc',\n\t},\n\tchatName: {\n\t\tmarginRight: '10px',\n\t},\n\troot: {\n\t\tmaxWidth: '300px',\n\t\tpadding: '15px',\n\t},\n\taddChatForm: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t}\n}));\n\nfunction ChatListContainer(props) {\n\n\t/*state*/\n\tconst [chatName, setChatName] = useState('');\n\n\t/*store*/\n\tconst dispatch = useDispatch();\n\tconst chats = useSelector(getChats, shallowEqual);\n\n\t/*handles*/\n\tconst handleAddChat = useCallback((chatName, event) => {\n\t\tevent.preventDefault();\n\t\tdispatch(addChatWithSaga(chatName));\n\t\tsetChatName('');\n\t}, [dispatch]);\n\n\tconst handleRemoveChat = (chatId, event) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tdispatch(removeChatWithSaga(chatId));\n\t};\n\n\tconst hanldeChatName = (event) => {\n\t\tsetChatName(event.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(initChatsWithSaga());\n\t}, []);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AddChatForm handleAddChat={handleAddChat} classes={classes} chatName={chatName} hanldeChatName={hanldeChatName} />\n\t\t\t<ChatList chats={chats} classes={classes} handleRemoveChat={handleRemoveChat} chatId={props.chatId} />\n\t\t</div>\n\t);\n}\n\nexport default ChatListContainer;\n","export const ADD_MESSAGE = 'CHATS::ADD_MESSAGE'\r\n\r\nexport const addMessage = (chatId, messageTheme, messageText, messageAuthor) => {\r\n    return { \r\n        type: ADD_MESSAGE,\r\n\t\tchatId, \r\n\t\tmessageTheme, \r\n\t\tmessageText, \r\n\t\tmessageAuthor, \r\n    };\r\n}\r\n\r\nexport const ADD_MESSAGE_WITH_SAGA = 'CHATS::ADD_MESSAGE_WITH_SAGA'\r\n\r\nexport const addMessageWithSaga = (chatId, messageTheme, messageText, messageAuthor) => {\r\n    return { \r\n        type: ADD_MESSAGE_WITH_SAGA,\r\n\t\tchatId, \r\n\t\tmessageTheme, \r\n\t\tmessageText, \r\n\t\tmessageAuthor, \r\n    };\r\n}","export function getProfileCheckboxState(state){return state.profile.checkboxState};\r\nexport function getProfileName(state) {return state.profile.name};\r\nexport function getProfileWrongNameState(state){return state.profile.wrongName};","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\nimport TextField from '@material-ui/core/TextField';\n\nimport {addMessageWithSaga} from '../../store/actions/addMessage';\nimport {getProfileName} from '../../store/selectors/profileSelectors';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\t'& > *': {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\ttext: {\n\t\theight: 'auto',\n\t},\n\tbutton: {\n\t\talignSelf: 'flex-end',\n\t},\n}));\n\nfunction SendForm(props) {\n\t\n\t/*state*/\n\tconst [messageTheme, setMessageTheme] = useState('');\n\tconst [messageText, setMessageText] = useState('');\n\tconst messageAuthor = useSelector(getProfileName);\n\tconst formText = useRef(null);\n\n\t/*roures*/\n\tconst {chatId} = useParams();\n\t\n\t\n\t/*store*/\n\tconst dispatch = useDispatch();\n\t\n\t/*styles*/\n\tconst classes = useStyles();\n\t\n\t/*handles*/\n\tconst handleAddMessage = useCallback((chatId, messageTheme, messageText, messageAuthor, event) => {\n\t\tclearForm();\n\t\tformText.current.focus()\n\t\tif (event){event.preventDefault();}\n\t\tdispatch(addMessageWithSaga(chatId, messageTheme, messageText, messageAuthor));\n\t},[dispatch]);\n\t\n\tconst handleChangeTheme = (event) => {\n\t\tsetMessageTheme(event.target.value);\n\t};\n\t\n\tconst handleChangeText = (event) => {\n\t\tsetMessageText(event.target.value);\n\t};\n\t\n\tconst clearForm = () => {\n\t\tsetMessageTheme('');\n\t\tsetMessageText('');\n\t};\n\t\n\t/*effects*/\n\tuseEffect(() => {\n\t\tif(!!chatId) formText.current.focus();\n\t}, [chatId]);\n\t\n\treturn (\n\t\t<form action=\"\" onSubmit={(event) => handleAddMessage(chatId, messageTheme, messageText, messageAuthor, event)} className={classes.root} noValidate autoComplete=\"off\">\n\t\t\t<TextField className={classes.text} value={messageTheme} onChange={handleChangeTheme} id=\"outlined-basic\" label=\"Theme\" variant=\"outlined\"/>\n\t\t\t<TextField className={classes.text} value={messageText} onChange={handleChangeText} inputRef={formText} multiline={true} rows=\"5\" id=\"outlined-basic\" label=\"Message\" variant=\"outlined\"/>\n\t\t\t<Button type=\"submit\" value=\"Send\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tclassName={classes.button}\n\t\t\t\tendIcon={<Icon>send</Icon>}\n\t\t\t>\n\t\t\tSend\n\t\t\t</Button>\n\t\t</form>\n\t);\n}\n\nexport default SendForm;\n","import React from 'react';\nimport { useParams, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Message from '../Message'\nimport ChatListContainer from '../ChatListContainer'\nimport SendForm from '../SendForm'\n\nimport { getChats } from '../../store/selectors/chatSelectors';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-around',\n\t\tbackgroundColor: '#EEE',\n\t},\n\n\tchat: {\n\t\tmaxWidth: '700px',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tpadding: '15px',\n\t\tflexGrow: 1,\n\t}\n}));\n\nfunction Chat(props) {\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*roures*/\n\tconst { chatId } = useParams();\n\n\t/*store*/\n\n\tconst chats = useSelector(getChats);\n\n\t/*render*/\n\tif (!!chatId && !chats[chatId]) {\n\t\treturn <Redirect to=\"/gbCourse5Hw/chats\" />;\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ChatListContainer chatList={chats} active={chatId} chatId={chatId} />\n\t\t\t<div className={classes.chat}>\n\t\t\t\t<Message messages={(!!chatId && chats[chatId].messages) ? Object.values(chats[chatId].messages) : []} chatId={chatId} />\n\t\t\t\t{!!chatId && <SendForm />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Chat;\n","export const PROFILE_NAME = 'PROFILE::NAME'\r\nexport const SET_PROFILE_NAME_WITH_SAGA = 'PROFILE::SET_PROFILE_NAME_WITH_SAGA'\r\n\r\nexport const setProfileName = (value) => {\r\n    return {\r\n        type: PROFILE_NAME,\r\n        name: value\r\n    };\r\n}\r\n\r\nexport const setProfileNameWithSaga = (value) => {\r\n    return {\r\n        type: SET_PROFILE_NAME_WITH_SAGA,\r\n        name: value\r\n    };\r\n}","import { getAuth } from \"@firebase/auth\";\nimport { getDatabase } from \"@firebase/database\";\nimport { initializeApp } from \"firebase/app\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyClSDFFfyZOzOpDTXS3pbqR4tpMuhrsXW0\",\n  authDomain: \"supa-dupa-chat.firebaseapp.com\",\n  databaseURL: \"https://supa-dupa-chat-default-rtdb.firebaseio.com\",\n  projectId: \"supa-dupa-chat\",\n  storageBucket: \"supa-dupa-chat.appspot.com\",\n  messagingSenderId: \"656656094874\",\n  appId: \"1:656656094874:web:247f40f1bae0857ad07123\"\n};\n\nexport const firebaseInitialize = initializeApp(firebaseConfig);\nexport const auth = getAuth();\nexport const db = getDatabase();","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { signOut } from \"firebase/auth\";\nimport { ref, onValue } from '@firebase/database';\n\nimport { setProfileNameWithSaga } from '../../store/actions/setProfileName'\nimport { initProfileNameWithSaga } from '../../store/actions/initProfileName'\nimport { getProfileWrongNameState } from '../../store/selectors/profileSelectors';\nimport { db, auth } from '../../services/firebase';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tbackgroundColor: '#EEE',\n\t\tflexDirection: 'column',\n\t},\n\tprofileName: {\n\t\tposition: 'relative',\n\t},\n\twrongName: {\n\t\tposition: 'absolute',\n\t\ttop: '0',\n\t\tleft: 'calc(50% - 60px)',\n\t\tdisplay: 'block',\n\t\tpadding: '10px',\n\t\tbackground: '#de2345',\n\t},\n\thidden: {\n\t\tvisibility: 'hidden',\n\t},\n}));\n\nfunction Profile(props) {\n\n\t/*state*/\n\tconst [newProfileName, setNewProfileName] = useState('');\n\tconst [profileName, setProfileName] = useState('');\n\n\t/*store*/\n\t// const profileName = useSelector(getProfileName);\n\tconst dispatch = useDispatch();\n\tconst wrongName = useSelector(getProfileWrongNameState);\n\n\t/*handles*/\n\n\tconst handleProfileName = (event) => {\n\t\tevent.preventDefault();\n\t\tdispatch(setProfileNameWithSaga(newProfileName));\n\t\tsetNewProfileName('');\n\t};\n\n\tconst handleNewProfileName = (event) => {\n\t\tsetNewProfileName(event.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tconst userName = ref(db, `profile/${auth.currentUser.uid}/username`);\n\t\tconst unsubscribe = onValue(userName, (snapshot) => {\n\t\t\tconst data = snapshot.val();\n\t\t\tsetProfileName(data);\n\t\t});\n\t\treturn unsubscribe;\n\t}, []);\n\n\n\tconst signOutUser = () => {\n\t\tsignOut(auth).then(() => {\n\t\t}).catch((error) => {\n\t\t});\n\t};\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<h1>My Profile</h1>\n\t\t\t<div>\n\t\t\t\t<form onSubmit={handleProfileName} className={classes.profileName}>\n\t\t\t\t\t<TextField required className={classes.profileName} value={newProfileName} onChange={handleNewProfileName} id=\"standard-basic\" label=\"Enter your name\" variant=\"standard\" />\n\t\t\t\t\t<span className={(wrongName ? \"\" : classes.hidden) + \" \" + classes.wrongName}>Wrong name!</span>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<p><span className={(!profileName) ? classes.hidden:''}>Hi, </span>{profileName}<span className={(!profileName) ? classes.hidden:''}>!</span></p>\n\t\t\t<button onClick={signOutUser}>Sign Out</button>\n\t\t</div>\n\t);\n}\n\nexport default Profile;\n","export function getNewsList(state){ return state.news.newsList};\r\nexport function getNewsErrorStatus(state){ return state.news.error.status};\r\nexport function getNewsErrorMessage(state){ return state.news.error.message};\r\nexport function getNewsRequestStatus(state){ return state.news.status};","export const GET_NEWS_REQUEST = 'NEWS::GET_NEWS_REQUEST'\r\nexport const GET_NEWS_SUCCESS = 'NEWS::GET_NEWS_SUCCESS'\r\nexport const GET_NEWS_FAILURE = 'NEWS::GET_NEWS_FAILURE'\r\nexport const GET_NEWS_WITH_SAGA = 'NEWS::GET_NEWS_WITH_SAGA'\r\n\r\nexport const getNewsRequest = () => {\r\n    return { \r\n        type: GET_NEWS_REQUEST,\r\n    };\r\n}\r\n\r\nexport const getNewsSuccess = (news) => {\r\n    return { \r\n        type: GET_NEWS_SUCCESS,\r\n\t\tnews\r\n    };\r\n}\r\n\r\n\r\nexport const getNewsFailure = (errorMessage) => {\r\n    return { \r\n        type: GET_NEWS_FAILURE,\r\n\t\terrorMessage\r\n    };\r\n}\r\n\r\n\r\nexport const getNewsWithSaga = () => {\r\n    return { \r\n        type: GET_NEWS_WITH_SAGA,\r\n    };\r\n}","export const URL_NEWS = \"https://api.currentsapi.services/v1/latest-news?language=ru&apiKey=6qmiCnF5XcC6Zt8s4fj5gRg9kBKB58XFqw8Rw6QqsYOtD1M8\";\r\nexport const URL_WEATHER = 'https://api.openweathermap.org/data/2.5/weather?id=498817&appid=f0694cc740867c7440b3be0552c0bf8f';\r\nexport const STATUSES = {\r\n\tIDLE: 'idle',\r\n\tREQUEST: 'request',\r\n\tSUCCESS: 'success',\r\n\tFAILURE: 'failure'\r\n};","import React, {useCallback, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {getNewsList, getNewsErrorStatus, getNewsErrorMessage, getNewsRequestStatus} from '../../store/selectors/newsSelectors';\nimport {getNewsWithSaga} from '../../store/actions/getNews';\nimport {STATUSES} from '../../utils/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tlistStyle: 'none',\n\t},\n\tnewsItem: {\n\t\tdisplay: 'block',\n\t\ttextDecoration: 'none',\n\t\tcolor: theme.palette.primary.main,\n\t\tmarginBottom: '10px',\n\t\t\n\t\t'&:visited':{\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t},\n\t},\n}));\n\nfunction News(props) {\n\t/*styles*/\n\tconst classes = useStyles();\n\t\n\tconst newsList = useSelector(getNewsList);\n\tconst isError = useSelector(getNewsErrorStatus);\n\tconst newsErrorMessage = useSelector(getNewsErrorMessage);\n\tconst newsRequestStatus = useSelector(getNewsRequestStatus);\n\tconst dispatch = useDispatch();\n\t\n\tconst handleFetchNews = useCallback(() => {\n\t\tdispatch(getNewsWithSaga());\n\t});\n\t\n\tuseEffect(() => {\n\t\thandleFetchNews();\n\t}, []);\n\t\n\tconst renderNews = useCallback(\n    (newsItem) => <li key={newsItem.id}><a href={newsItem.url} target=\"_blank\" rel=\"noreferrer\" className={classes.newsItem}>{newsItem.title || 'No description'}</a></li>,\n    []\n  );\n  \n\tif (isError) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<p>{newsErrorMessage}</p>\n\t\t\t\t<button onClick={handleFetchNews}>reload</button>\n\t\t\t</>\n\t\t)\n\t};\n\tif (newsRequestStatus === STATUSES.REQUEST){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<p>Loading...</p>\n\t\t\t</>\n\t\t)\n\t}\n\treturn (\n\t<>\n\t\t\n\t\t<ul className={classes.root}>{newsList.map(renderNews)}</ul>\n\t</>\n\t);\n}\n\nexport default News;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom'\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../../services/firebase';\n\nfunction SignUp() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handlePassChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      await createUserWithEmailAndPassword(auth, email, password);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <p>Fill in the form below to register new account.</p>\n        <div>\n          <input\n            placeholder=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={handleEmailChange}\n            value={email}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={handlePassChange}\n            value={password}\n            type=\"password\"\n          />\n        </div>\n        <div>\n          {error && <p>{error}</p>}\n          <button type=\"submit\">Login</button>\n        </div>\n        <hr />\n        <p>\n          Already have an account? <Link to=\"/gbCourse5Hw/login\">Sign in</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\nexport default SignUp","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom'\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../../services/firebase';\n\nfunction LogIn() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handlePassChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <p>Fill in the form below to login to your account.</p>\n        <div>\n          <input\n            placeholder=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={handleEmailChange}\n            value={email}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={handlePassChange}\n            value={password}\n            type=\"password\"\n          />\n        </div>\n        <div>\n          {error && <p>{error}</p>}\n          <button type=\"submit\">Login</button>\n        </div>\n        <hr />\n        <p>\n          Don't have an account? <Link to=\"/gbCourse5Hw/signup\">Sign up</Link>\n        </p>\n      </form>\n    </div>\n  );\n};\nexport default LogIn","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function PrivateRoute({ authenticated, ...rest }) {\n  return authenticated ? (\n    <Route {...rest} />\n  ) : (\n    <Redirect to={{ pathname: \"/login\" }} />\n  );\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function PublicRoute({ authenticated, ...rest }) {\n  return !authenticated ? <Route {...rest} /> : <Redirect to=\"/gbCourse5Hw/chats\" />;\n}","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter, Route, Switch, Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { onAuthStateChanged } from \"firebase/auth\";\n\nimport { initProfileNameWithSaga } from '../../store/actions/initProfileName'\n\nimport Main from '../Main';\nimport Chat from '../Chat';\nimport Profile from '../Profile';\nimport News from '../News';\nimport SignUp from '../SignUp';\nimport LogIn from '../LogIn';\nimport PrivateRoute from '../../hocs/PrivateRoute';\nimport PublicRoute from '../../hocs/PublicRoute';\nimport { auth } from '../../services/firebase';\n\nconst useStyles = makeStyles((theme) => ({\n\theader: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-around',\n\t\tminHeight: '50px',\n\t\talignItems: 'center',\n\n\t\t'&>a': {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\theight: '50px',\n\t\t\ttextDecoration: 'none',\n\t\t\tbackgroundColor: '#ccc',\n\t\t\tcolor: '#708238',\n\t\t\tpadding: '0 30px',\n\t\t}\n\t},\n\tmessage: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tmarginBottom: '10px',\n\t\tposition: 'relative',\n\t},\n\tmessageHeader: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageText: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageAuthor: {\n\t\ttextAlign: 'right',\n\t\tmargin: '10px 20px',\n\t},\n\tsmallText: {\n\t\tfontSize: '14px',\n\t\tcolor: '#AAA',\n\t\tfontWeight: 'normal',\n\t},\n}));\n\nfunction App() {\n\n\tconst [authed, setAuthed] = useState(false);\n\t\n\tconst dispatch = useDispatch();\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\tuseEffect(() => {\n\t\tif (authed) {dispatch(initProfileNameWithSaga());};\n\t\t\n\t\tconst unsubscribe = onAuthStateChanged(auth, (user) => {\n\t\t\tif (user) {\n\t\t\t\tdispatch(initProfileNameWithSaga());\n\t\t\t\t//const uid = user.uid;\n\t\t\t\tsetAuthed(true);\n\t\t\t} else {\n\t\t\t\tsetAuthed(false);\n\t\t\t}\n\t\t});\n\t\treturn unsubscribe;\n\t}, []);\n\n\t/*render*/\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<header className={classes.header}>\n\t\t\t\t<Link to='/gbCourse5Hw/'>Main</Link>\n\t\t\t\t<Link to='/gbCourse5Hw/chats'>Chats</Link>\n\t\t\t\t<Link to='/gbCourse5Hw/profile'>Profile</Link>\n\t\t\t\t<Link to='/gbCourse5Hw/news'>News</Link>\n\t\t\t\t<Link to='/gbCourse5Hw/signup'>Registration</Link>\n\t\t\t\t<Link to='/gbCourse5Hw/login'>Login</Link>\n\t\t\t</header>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute authenticated={authed} path=\"/gbCourse5Hw/chats/:chatId?\">\n\t\t\t\t\t<Chat />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PrivateRoute authenticated={authed} path='/gbCourse5Hw/profile'>\n\t\t\t\t\t<Profile />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path='/gbCourse5Hw/nochat'>\n\t\t\t\t\t<h4>Здесь рыбы нет</h4>\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PrivateRoute authenticated={authed} path='/gbCourse5Hw/news'>\n\t\t\t\t\t<News />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path='/signup'>\n\t\t\t\t\t<SignUp />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path='/login'>\n\t\t\t\t\t<LogIn />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PublicRoute exact authenticated={authed} path='/gbCourse5Hw/'>\n\t\t\t\t\t<Main />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<Route authenticated={authed}>\n\t\t\t\t\t<h4>404</h4>\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</BrowserRouter>\n\t);\n}\n\nexport default App;\n","import {STATUSES} from '../utils/constants';\r\n\r\nconst initialState = {\r\n\tprofile: {\r\n\t\tcheckboxState: false,\r\n\t\tname:'Name',\r\n\t\twrongName: false,\r\n\t},\r\n\tchats: {},\r\n\tnews: {\r\n\t\tnewsList: [],\r\n\t\terror: {status: false, message:''},\r\n\t\tstatus: STATUSES.IDLE,\r\n\t},\r\n\t\r\n};\r\n\r\nexport default initialState;","import {INIT_PROFILE_NAME} from '../actions/initProfileName'\r\nimport {PROFILE_NAME} from '../actions/setProfileName'\r\n\r\nfunction profileReducer(state = false, action) {\r\n    switch(action.type) {\r\n\t\tcase INIT_PROFILE_NAME:\r\n\t\t\treturn {...state, name: action.name};\r\n\t\t\r\n\t\tcase PROFILE_NAME: \r\n\t\t\tif (!/bot/i.test(action.name)) return {...state, name: action.name, wrongName: false};\r\n\t\t\telse return {...state, wrongName: true}\r\n        \r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import { ADD_CHAT } from '../actions/addChat'\r\nimport { REMOVE_CHAT } from '../actions/removeChat'\r\nimport { ADD_MESSAGE } from '../actions/addMessage'\r\nimport { REMOVE_MESSAGE } from '../actions/removeMessage'\r\n\r\n\r\nimport initialState from '../initialState'\r\nimport { INIT_CHATS } from '../actions/initChats'\r\nconst { chats } = initialState;\r\n\r\nfunction chatReducer(state = chats, action) {\r\n\tswitch (action.type) {\r\n\t\tcase INIT_CHATS:\r\n\t\t\treturn {\r\n\t\t\t\t...action.chats\r\n\t\t\t};\r\n\r\n\t\tcase ADD_CHAT:\r\n\t\t\tconst newChatId = `chatId${+new Date()}`;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[newChatId]: { name: action.chatName, id: newChatId, messages: [] }\r\n\t\t\t};\r\n\r\n\t\tcase REMOVE_CHAT:\r\n\t\t\tdelete state[action.chatId];\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\tif (!!action.chatId && !!state[action.chatId]) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t[action.chatId]: {\r\n\t\t\t\t\t\t...state[action.chatId],\r\n\t\t\t\t\t\tmessages: [...state[action.chatId].messages, { header: action.messageTheme, text: action.messageText, author: action.messageAuthor, id: `message-${+(new Date())}` }]\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn state;\r\n\r\n\t\tcase REMOVE_MESSAGE:\r\n\t\t\tconst newMessages = !!action.chatId && !!state[action.chatId] && state[action.chatId].messages.filter(({ id }) => id !== action.messageId);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[action.chatId]: {\r\n\t\t\t\t\t...state[action.chatId],\r\n\t\t\t\t\tmessages: [...newMessages]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nexport default chatReducer;","import {GET_NEWS_REQUEST, GET_NEWS_SUCCESS, GET_NEWS_FAILURE} from '../actions/getNews'\r\nimport {STATUSES} from '../../utils/constants';\r\n\r\nconst initialState = {news: [], error: {status: false, message: ''}, status: 'idle'};\r\n\r\nfunction newsReducer(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_NEWS_REQUEST: return {...state, error: {...state.error, status: false}, status: STATUSES.REQUEST};\r\n\t\t\r\n\t\tcase GET_NEWS_SUCCESS: return {...state, newsList: action.news, status: STATUSES.SUCCESS};\r\n\t\t\r\n\t\tcase GET_NEWS_FAILURE: return {...state, error: {...state.error, status: true, message: action.errorMessage}, status: STATUSES.FAILURE};\r\n\t\t\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default newsReducer;","import { URL_WEATHER } from '../../utils/constants';\n\nimport { ref, update, remove } from '@firebase/database';\nimport { db } from '../../services/firebase';\nimport { call, delay } from '@redux-saga/core/effects';\n\nconst fetchData = (url) => fetch(url)\n    .then(result => {\n        if (!result.ok) throw Error(result.status + ' ' + result.statusText);\n        return result.json();\n    })\n    .then(data => data)\n    .catch(err => {\n        throw err;\n    });\n\nexport const onAddMessageWithSaga = function* (action) {\n    try {\n        const newMessageId = yield `message-${+new Date()}`;\n        const message = yield ref(db, `chats/${action.chatId}/messages/${newMessageId}`);\n        yield update(message, { id: newMessageId, header: action.messageTheme, text: action.messageText, author: action.messageAuthor });\n        //if (action.messageAuthor !== 'Bot') {\n        //    try {\n        //        yield delay(2000);\n        //        const weatherData = yield call(fetchData, URL_WEATHER);\n        //        const newBotMessageId = yield `message-${+new Date()}`;\n        //        const botMessage = yield ref(db, `chats/${action.chatId}/messages/${newBotMessageId}`);\n        //        yield update(botMessage, { id: newBotMessageId, header: 'Погода', text: `Погода в Питере ${weatherData.clouds.all > 50 ? \"облачная\" : \"безоблачная\"}\\nТемпература ${(weatherData.main.temp - 273).toFixed(1)} °C\\nВлажность ${weatherData.main.humidity} %\\nСкорость ветра ${weatherData.wind.speed} м/с`, author: 'Bot' });\n        //    } catch (err) {\n        //        console.log(err.message);\n        //        //yield put(addMessage(action.chatId, 'Ошибка', err.message, 'Bot'));\n        //    }\n        //}\n    } catch (err) {\n        console.log(err)\n    };\n}\n\nexport const onRemoveMessageWithSaga = function* (action) {\n    try {\n        const message = yield ref(db, `chats/${action.chatId}/messages/${action.messageId}`);\n        yield remove(message);\n    } catch (err) {\n        console.log(err);\n    };\n}","import { put } from 'redux-saga/effects';\n\nimport { setProfileName } from '../actions/setProfileName';\nimport { initProfileName } from '../actions/initProfileName';\nimport { ref, set, get } from '@firebase/database';\nimport { auth, db } from '../../services/firebase';\n\nexport const onSetProfileNameWithSaga = function* (action) {\n    try {\n        yield put(setProfileName(action.name));\n        yield set(ref(db, `profile/${auth.currentUser.uid}`), {\n            username: action.name\n        });\n    } catch (err) {\n        yield console.log(err.message);\n    }\n}\n\nexport const onInitProfileNameWithSaga = function*(){\n\ttry {\n        const data = yield get(ref(db, `profile/${auth.currentUser.uid}/username`), (snapshot) => {\n\t\t\treturn snapshot.val();\n\t\t});\n\t\tconst name = yield data.val();\n\t\tyield put(initProfileName(name));\n    } catch (err) {\n        yield console.log(err.message);\n    }\n}","import { put, call } from 'redux-saga/effects';\n\nimport { getNewsRequest, getNewsSuccess, getNewsFailure } from '../actions/getNews';\nimport { URL_NEWS } from '../../utils/constants';\n\nconst fetchData = (url) => fetch(url)\n    .then(result => {\n        if (!result.ok) throw Error(result.status + ' ' + result.statusText);\n        return result.json();\n    })\n    .then(data => data)\n    .catch(err => {\n        throw err;\n    });\n\nexport const onGetNewsWithSaga = function* (action) {\n    try {\n        yield put(getNewsRequest());\n        const news = yield call(fetchData, URL_NEWS);\n        yield put(getNewsSuccess(news.news));\n    } catch (err) {\n        yield put(getNewsFailure(err.message));\n    }\n}","import { auth, db } from '../../services/firebase';\nimport { ref, onValue, set, remove } from '@firebase/database';\n\nimport { initChats } from '../actions/initChats';\nimport { store } from '../store';\n\nexport const onInitChatsWithSaga = function* () {\n    try {\n        const chats = yield ref(db, `chats`);\n        yield onValue(chats, (snapshot) => {\n            const data = snapshot.val();\n            store.dispatch(initChats(data || {}));\n        });\n    } catch (err) {\n        console.log(err.message);\n    }\n\n}\n\nexport const onAddChatWithSaga = function* (action) {\n    try {\n        const newChatId = yield `chatId${+new Date()}`;\n        const newChat = yield ref(db, `chats/${newChatId}`);\n        yield set(ref(db, `profile/${auth.currentUser.uid}/myChats/${newChatId}`), { chatName: action.chatName });\n        yield set(newChat, {\n            name: action.chatName, id: newChatId, messages: '', users: auth.currentUser.uid\n        });\n    } catch (err) {\n        console.log(err);\n    };\n}\n\nexport const onRemoveChatWithSaga = function* (action) {\n    try {\n        const chatId = yield ref(db, `chats/${action.chatId}`);\n        yield remove(chatId);\n        yield remove(ref(db, `profile/${auth.currentUser.uid}/myChats/${action.chatId}`));\n    } catch (err) {\n        console.log(err);\n    }\n}\n","import { takeEvery, takeLatest } from 'redux-saga/effects';\r\n\r\nimport { ADD_MESSAGE_WITH_SAGA } from './actions/addMessage';\r\nimport { onAddMessageWithSaga, onRemoveMessageWithSaga } from './sagas/messagesSaga';\r\nimport { SET_PROFILE_NAME_WITH_SAGA } from './actions/setProfileName';\r\nimport { onSetProfileNameWithSaga } from './sagas/profileSaga';\r\nimport { INIT_PROFILE_NAME_WITH_SAGA } from './actions/initProfileName';\r\nimport { onInitProfileNameWithSaga } from './sagas/profileSaga';\r\nimport { GET_NEWS_WITH_SAGA } from './actions/getNews';\r\nimport { onGetNewsWithSaga } from './sagas/newsSaga';\r\nimport { INIT_CHATS_WITH_SAGA } from './actions/initChats';\r\nimport { ADD_CHAT_WITH_SAGA } from './actions/addChat';\r\nimport { onInitChatsWithSaga, onAddChatWithSaga, onRemoveChatWithSaga } from './sagas/chatsSaga';\r\nimport { REMOVE_CHAT_WITH_SAGA } from './actions/removeChat';\r\nimport { REMOVE_MESSAGE_WITH_SAGA } from './actions/removeMessage';\r\n\r\nfunction* mySaga() {\r\n\tyield takeEvery(ADD_MESSAGE_WITH_SAGA, onAddMessageWithSaga);\r\n\tyield takeEvery(REMOVE_MESSAGE_WITH_SAGA, onRemoveMessageWithSaga);\r\n\tyield takeLatest(GET_NEWS_WITH_SAGA, onGetNewsWithSaga);\r\n\tyield takeLatest(SET_PROFILE_NAME_WITH_SAGA, onSetProfileNameWithSaga);\r\n\tyield takeLatest(INIT_PROFILE_NAME_WITH_SAGA, onInitProfileNameWithSaga);\r\n\tyield takeLatest(INIT_CHATS_WITH_SAGA, onInitChatsWithSaga);\r\n\tyield takeLatest(ADD_CHAT_WITH_SAGA, onAddChatWithSaga);\r\n\tyield takeLatest(REMOVE_CHAT_WITH_SAGA, onRemoveChatWithSaga);\r\n\r\n}\r\n\r\nexport default mySaga;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\n\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport initialState from './initialState'\r\n\r\nimport profile from './reducers/profileReducer'\r\nimport chats from './reducers/chatReducer'\r\nimport news from './reducers/newsReducer'\r\nimport mySaga from './sagas.js'\r\n\r\nconst combine = combineReducers({profile, chats, news});\r\n\r\nconst onErrorSaga = (error, stack) => {console.log('qqq'+error); console.log(stack)}; \r\nconst options = {onError: onErrorSaga};\r\nconst sagaMiddleware = createSagaMiddleware(options);\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, combine);\r\n\r\nexport const store = createStore(\r\n\tpersistedReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(sagaMiddleware)));\r\n\t\r\nsagaMiddleware.run(mySaga);\r\n\r\nexport const persistor = persistStore(store);\r\n\r\n","import React from 'react';\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/es/integration/react'\n\nimport { ThemeProvider, createTheme } from \"@material-ui/core/styles\";\n\nimport './App.css'\nimport Router from './components/Router'\nimport { store } from './store/store'\nimport { persistor } from './store/store'\n\nconst mainTheme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: \"#708238\",\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: \"#0098FF\",\n\t\t},\n\t},\n});\n\nfunction App() {\n\t/*render*/\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<PersistGate persistor={persistor}>\n\t\t\t\t<ThemeProvider theme={mainTheme}>\n\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t<Router />\n\t\t\t\t\t</div>\n\t\t\t\t</ThemeProvider>\n\t\t\t</PersistGate>\n\t\t</Provider>\n\t);\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}