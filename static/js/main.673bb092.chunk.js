(this["webpackJsonpsupa-dupa-chat"]=this["webpackJsonpsupa-dupa-chat"]||[]).push([[0],{112:function(e,t,a){},116:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(22),s=a.n(r),i=(a(112),a(26)),o=a(93),u=a(99),l=a(165),b=(a(116),a(21)),j=a(29),d=a(28),h=a(156),O=a(48),p="PROFILE::INIT_PROFILE_NAME",x="PROFILE::INIT_PROFILE_NAME_WITH_SAGA",m=function(){return{type:x}},f=a(6);var g=function(e){return Object(f.jsxs)("div",{className:"main-container",children:[Object(f.jsx)("h1",{children:"Welcome to chat"}),Object(f.jsx)("div",{children:Object(f.jsx)(j.b,{to:"/gbCourse5Hw/login",children:"Sign In"})}),Object(f.jsx)("div",{children:Object(f.jsx)(j.b,{to:"/gbCourse5Hw/signup",children:"Sign Up"})})]})},v=a(159),w=a(95),C=a.n(w),S="CHATS::REMOVE_MESSAGE",I="CHATS::REMOVE_MESSAGE_WITH_SAGA",N=Object(h.a)((function(e){return{button:{position:"absolute",top:"0",right:"0"},message:{border:"1px solid black",borderRadius:"10px",marginBottom:"10px",position:"relative"},messageHeader:{textAlign:"left",margin:"10px 20px"},messageText:{textAlign:"left",margin:"10px 20px",whiteSpace:"pre-wrap"},messageAuthor:{textAlign:"right",margin:"10px 20px"},smallText:{fontSize:"14px",color:"#AAA",fontWeight:"normal"}}}));var A=function(e){var t=Object(i.c)(),a=Object(c.useCallback)((function(e,a){t(function(e,t){return{type:I,chatId:e,messageId:t}}(e,a))}),[t]),n=N();return e.messages.map((function(t,c){return Object(f.jsxs)("article",{className:n.message,id:t.id,children:[Object(f.jsxs)("h2",{className:n.messageHeader,children:[Object(f.jsxs)("span",{className:n.smallText,children:["Theme:",Object(f.jsx)("br",{})]}),t.header]}),Object(f.jsxs)("p",{className:n.messageText,children:[Object(f.jsxs)("span",{className:n.smallText,children:["Message:",Object(f.jsx)("br",{})]}),t.text]}),Object(f.jsx)("p",{className:n.messageAuthor,children:Object(f.jsxs)("cite",{children:[Object(f.jsx)("span",{className:n.smallText,children:"Author: "}),t.author]})}),Object(f.jsx)(v.a,{onClick:function(){return a(e.chatId,t.id)},"aria-label":"delete",className:n.button+" delete-button",children:Object(f.jsx)(C.a,{color:"secondary"})})]},t.id)}))},E=a(96),y=a.n(E),T=a(161),k=a(162),H=a(167);var _=function(e){return Object(f.jsx)(T.a,{component:"nav","aria-label":"main mailbox folders",children:Object.values(e.chats).map((function(t){return Object(f.jsx)(j.b,{to:"/gbCourse5Hw/chats/"+t.id,className:e.classes.link,children:Object(f.jsxs)(k.a,{button:!0,className:t.id===e.chatId?e.classes.active:e.classes.root,children:[Object(f.jsx)(H.a,{primary:t.name}),Object(f.jsx)(v.a,{"aria-label":"close",onClick:function(a){return e.handleRemoveChat(t.id,a)},children:Object(f.jsx)(y.a,{})})]})},t.id)}))})},D=a(163),R=a(166);var F=function(e){return Object(f.jsxs)("form",{onSubmit:function(t){return e.handleAddChat(e.chatName,t)},className:e.classes.addChatForm,children:[Object(f.jsx)(R.a,{className:e.classes.chatName,value:e.chatName,onChange:e.hanldeChatName,id:"outlined-basic",label:"Chat name",variant:"outlined",size:"small"}),Object(f.jsx)(D.a,{value:"Add",variant:"contained",color:"primary",className:e.classes.button,type:"submit",children:"Add chat"})]})},W="CHATS::ADD_CHAT",M="CHATS::ADD_CHAT_WITH_SAGA",L="CHATS::REMOVE_CHAT",G="CHATS::REMOVE_CHAT_WITH_SAGA";function P(e){return e.chats}var U="CHATS::INIT_CHATS",q=function(e){return{type:U,chats:e}},B="CHATS::INIT_CHATS_WITH_SAGA",V=Object(h.a)((function(e){return{button:{color:"#fff",whiteSpace:"noWrap",height:"100%"},link:{textDecoration:"none",color:e.palette.primary.main},active:{color:e.palette.secondary.main,backgroundColor:"#ccc"},chatName:{marginRight:"10px"},root:{maxWidth:"300px",padding:"15px"},addChatForm:{display:"flex",alignItems:"center"}}}));var X=function(e){var t=Object(c.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],s=Object(i.c)(),o=Object(i.d)(P,i.b),u=Object(c.useCallback)((function(e,t){t.preventDefault(),s(function(e){return{type:M,chatName:e}}(e)),r("")}),[s]);Object(c.useEffect)((function(){s({type:B})}),[]);var l=V();return Object(f.jsxs)("div",{className:l.root,children:[Object(f.jsx)(F,{handleAddChat:u,classes:l,chatName:n,hanldeChatName:function(e){r(e.target.value)}}),Object(f.jsx)(_,{chats:o,classes:l,handleRemoveChat:function(e,t){t.preventDefault(),t.stopPropagation(),s(function(e){return{type:G,chatId:e}}(e))},chatId:e.chatId})]})},z=a(164),K="CHATS::ADD_MESSAGE",J="CHATS::ADD_MESSAGE_WITH_SAGA";function Q(e){return e.profile.name}function Z(e){return e.profile.wrongName}var Y=Object(h.a)((function(e){return{root:{border:"1px solid black",borderRadius:"10px",display:"flex",flexDirection:"column","& > *":{margin:e.spacing(1)}},text:{height:"auto"},button:{alignSelf:"flex-end"}}}));var $=function(e){var t=Object(c.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(b.a)(s,2),u=o[0],l=o[1],j=Object(i.d)(Q),h=Object(c.useRef)(null),O=Object(d.g)().chatId,p=Object(i.c)(),x=Y(),m=Object(c.useCallback)((function(e,t,a,c,n){g(),h.current.focus(),n&&n.preventDefault(),p(function(e,t,a,c){return{type:J,chatId:e,messageTheme:t,messageText:a,messageAuthor:c}}(e,t,a,c))}),[p]),g=function(){r(""),l("")};return Object(c.useEffect)((function(){O&&h.current.focus()}),[O]),Object(f.jsxs)("form",{action:"",onSubmit:function(e){return m(O,n,u,j,e)},className:x.root,noValidate:!0,autoComplete:"off",children:[Object(f.jsx)(R.a,{className:x.text,value:n,onChange:function(e){r(e.target.value)},id:"outlined-basic",label:"Theme",variant:"outlined"}),Object(f.jsx)(R.a,{className:x.text,value:u,onChange:function(e){l(e.target.value)},inputRef:h,multiline:!0,rows:"5",id:"outlined-basic",label:"Message",variant:"outlined"}),Object(f.jsx)(D.a,{type:"submit",value:"Send",variant:"contained",color:"primary",className:x.button,endIcon:Object(f.jsx)(z.a,{children:"send"}),children:"Send"})]})},ee=Object(h.a)((function(e){return{root:{display:"flex",justifyContent:"space-around",backgroundColor:"#EEE"},chat:{maxWidth:"700px",display:"flex",flexDirection:"column",padding:"15px",flexGrow:1}}}));var te=function(e){var t=ee(),a=Object(d.g)().chatId,c=Object(i.d)(P);return a&&!c[a]?Object(f.jsx)(d.a,{to:"/gbCourse5Hw/chats"}):Object(f.jsxs)("div",{className:t.root,children:[Object(f.jsx)(X,{chatList:c,active:a,chatId:a}),Object(f.jsxs)("div",{className:t.chat,children:[Object(f.jsx)(A,{messages:a&&c[a].messages?Object.values(c[a].messages):[],chatId:a}),!!a&&Object(f.jsx)($,{})]})]})},ae=a(24),ce="PROFILE::NAME",ne="PROFILE::SET_PROFILE_NAME_WITH_SAGA",re=a(71),se=a(97),ie=(Object(se.a)({apiKey:"AIzaSyClSDFFfyZOzOpDTXS3pbqR4tpMuhrsXW0",authDomain:"supa-dupa-chat.firebaseapp.com",databaseURL:"https://supa-dupa-chat-default-rtdb.firebaseio.com",projectId:"supa-dupa-chat",storageBucket:"supa-dupa-chat.appspot.com",messagingSenderId:"656656094874",appId:"1:656656094874:web:247f40f1bae0857ad07123"}),Object(re.b)()),oe=Object(ae.b)(),ue=Object(h.a)((function(e){return{root:{display:"flex",backgroundColor:"#EEE",flexDirection:"column"},profileName:{position:"relative"},wrongName:{position:"absolute",top:"0",left:"calc(50% - 60px)",display:"block",padding:"10px",background:"#de2345"},hidden:{visibility:"hidden"}}}));var le=function(e){var t=Object(c.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(b.a)(s,2),u=o[0],l=o[1],j=Object(i.c)(),d=Object(i.d)(Z);Object(c.useEffect)((function(){var e=Object(ae.d)(oe,"profile/".concat(ie.currentUser.uid,"/username"));return Object(ae.c)(e,(function(e){var t=e.val();l(t)}))}),[]);var h=ue();return Object(f.jsxs)("div",{className:h.root,children:[Object(f.jsx)("h1",{children:"My Profile"}),Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j({type:ne,name:n}),r("")},className:h.profileName,children:[Object(f.jsx)(R.a,{required:!0,className:h.profileName,value:n,onChange:function(e){r(e.target.value)},id:"standard-basic",label:"Enter your name",variant:"standard"}),Object(f.jsx)("span",{className:(d?"":h.hidden)+" "+h.wrongName,children:"Wrong name!"})]})}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:u?"":h.hidden,children:"Hi, "}),u,Object(f.jsx)("span",{className:u?"":h.hidden,children:"!"})]}),Object(f.jsx)("button",{onClick:function(){Object(O.d)(ie).then((function(){})).catch((function(e){}))},children:"Sign Out"})]})};function be(e){return e.news.newsList}function je(e){return e.news.error.status}function de(e){return e.news.error.message}function he(e){return e.news.status}var Oe="NEWS::GET_NEWS_REQUEST",pe="NEWS::GET_NEWS_SUCCESS",xe="NEWS::GET_NEWS_FAILURE",me="NEWS::GET_NEWS_WITH_SAGA",fe=function(e){return{type:pe,news:e}},ge="idle",ve="request",we="success",Ce="failure",Se=Object(h.a)((function(e){return{root:{listStyle:"none"},newsItem:{display:"block",textDecoration:"none",color:e.palette.primary.main,marginBottom:"10px","&:visited":{color:e.palette.secondary.main}}}}));var Ie=function(e){var t=Se(),a=Object(i.d)(be),n=Object(i.d)(je),r=Object(i.d)(de),s=Object(i.d)(he),o=Object(i.c)(),u=Object(c.useCallback)((function(){o({type:me})}));Object(c.useEffect)((function(){u()}),[]);var l=Object(c.useCallback)((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:t.newsItem,children:e.title||"No description"})},e.id)}),[]);return n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:r}),Object(f.jsx)("button",{onClick:u,children:"reload"})]}):s===ve?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("p",{children:"Loading..."})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("ul",{className:t.root,children:a.map(l)})})},Ne=a(1),Ae=a.n(Ne),Ee=a(5);var ye=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),l=Object(b.a)(u,2),d=l[0],h=l[1],p=function(){var e=Object(Ee.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(""),e.prev=2,e.next=5,Object(O.a)(ie,a,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),h(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:p,children:[Object(f.jsx)("p",{children:"Fill in the form below to register new account."}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:function(e){n(e.target.value)},value:a})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{placeholder:"Password",name:"password",onChange:function(e){o(e.target.value)},value:i,type:"password"})}),Object(f.jsxs)("div",{children:[d&&Object(f.jsx)("p",{children:d}),Object(f.jsx)("button",{type:"submit",children:"Login"})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["Already have an account? ",Object(f.jsx)(j.b,{to:"/gbCourse5Hw/login",children:"Sign in"})]})]})})};var Te=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(""),l=Object(b.a)(u,2),d=l[0],h=l[1],p=function(){var e=Object(Ee.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(""),e.prev=2,e.next=5,Object(O.c)(ie,a,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),h(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:p,children:[Object(f.jsx)("p",{children:"Fill in the form below to login to your account."}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:function(e){n(e.target.value)},value:a})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{placeholder:"Password",name:"password",onChange:function(e){o(e.target.value)},value:i,type:"password"})}),Object(f.jsxs)("div",{children:[d&&Object(f.jsx)("p",{children:d}),Object(f.jsx)("button",{type:"submit",children:"Login"})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["Don't have an account? ",Object(f.jsx)(j.b,{to:"/gbCourse5Hw/signup",children:"Sign up"})]})]})})},ke=a(18),He=a(77),_e=["authenticated"];function De(e){var t=e.authenticated,a=Object(He.a)(e,_e);return t?Object(f.jsx)(d.b,Object(ke.a)({},a)):Object(f.jsx)(d.a,{to:{pathname:"/gbCourse5Hw/login"}})}var Re=["authenticated"];function Fe(e){var t=e.authenticated,a=Object(He.a)(e,Re);return t?Object(f.jsx)(d.a,{to:"/gbCourse5Hw/chats"}):Object(f.jsx)(d.b,Object(ke.a)({},a))}var We=Object(h.a)((function(e){return{header:{display:"flex",justifyContent:"space-around",minHeight:"50px",alignItems:"center","&>a":{display:"flex",alignItems:"center",height:"50px",textDecoration:"none",backgroundColor:"#ccc",color:"#708238",padding:"0 30px"}},message:{border:"1px solid black",borderRadius:"10px",marginBottom:"10px",position:"relative"},messageHeader:{textAlign:"left",margin:"10px 20px"},messageText:{textAlign:"left",margin:"10px 20px"},messageAuthor:{textAlign:"right",margin:"10px 20px"},smallText:{fontSize:"14px",color:"#AAA",fontWeight:"normal"}}}));var Me=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(i.c)(),s=We();return Object(c.useEffect)((function(){return a&&r(m()),Object(O.b)(ie,(function(e){e?(r(m()),n(!0)):n(!1)}))}),[]),Object(f.jsxs)(j.a,{children:[Object(f.jsxs)("header",{className:s.header,children:[Object(f.jsx)(j.b,{to:"/gbCourse5Hw/",children:"Main"}),Object(f.jsx)(j.b,{to:"/gbCourse5Hw/chats",children:"Chats"}),Object(f.jsx)(j.b,{to:"/gbCourse5Hw/profile",children:"Profile"}),Object(f.jsx)(j.b,{to:"/gbCourse5Hw/news",children:"News"}),Object(f.jsx)(j.b,{to:"/gbCourse5Hw/signup",children:"Registration"}),Object(f.jsx)(j.b,{to:"/gbCourse5Hw/login",children:"Login"})]}),Object(f.jsxs)(d.d,{children:[Object(f.jsx)(De,{authenticated:a,path:"/gbCourse5Hw/chats/:chatId?",children:Object(f.jsx)(te,{})}),Object(f.jsx)(De,{authenticated:a,path:"/gbCourse5Hw/profile",children:Object(f.jsx)(le,{})}),Object(f.jsx)(Fe,{authenticated:a,path:"/gbCourse5Hw/nochat",children:Object(f.jsx)("h4",{children:"\u0417\u0434\u0435\u0441\u044c \u0440\u044b\u0431\u044b \u043d\u0435\u0442"})}),Object(f.jsx)(De,{authenticated:a,path:"/gbCourse5Hw/news",children:Object(f.jsx)(Ie,{})}),Object(f.jsx)(Fe,{authenticated:a,path:"/gbCourse5Hw/signup",children:Object(f.jsx)(ye,{})}),Object(f.jsx)(Fe,{authenticated:a,path:"/gbCourse5Hw/login",children:Object(f.jsx)(Te,{})}),Object(f.jsx)(Fe,{exact:!0,authenticated:a,path:"/gbCourse5Hw/",children:Object(f.jsx)(g,{})}),Object(f.jsx)(d.b,{authenticated:a,children:Object(f.jsx)("h4",{children:"404"})})]})]})},Le=a(41),Ge=a(100),Pe=a(82),Ue=a(98),qe=a.n(Ue),Be={profile:{checkboxState:!1,name:"Name",wrongName:!1},chats:{chatId1:{name:"chat1",id:"chatId1",messages:[]},chatId2:{name:"chat2",id:"chatId2",messages:[]}},news:{newsList:[],error:{status:!1,message:""},status:ge}};var Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(ke.a)(Object(ke.a)({},e),{},{name:t.name});case ce:return/bot/i.test(t.name)?Object(ke.a)(Object(ke.a)({},e),{},{wrongName:!0}):Object(ke.a)(Object(ke.a)({},e),{},{name:t.name,wrongName:!1});default:return e}},Xe=a(39),ze=a(4),Ke=Be.chats;var Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(ke.a)({},t.chats);case W:var a="chatId".concat(+new Date);return Object(ke.a)(Object(ke.a)({},e),{},Object(ze.a)({},a,{name:t.chatName,id:a,messages:[]}));case L:return delete e[t.chatId],Object(ke.a)({},e);case K:return t.chatId&&e[t.chatId]?Object(ke.a)(Object(ke.a)({},e),{},Object(ze.a)({},t.chatId,Object(ke.a)(Object(ke.a)({},e[t.chatId]),{},{messages:[].concat(Object(Xe.a)(e[t.chatId].messages),[{header:t.messageTheme,text:t.messageText,author:t.messageAuthor,id:"message-".concat(+new Date)}])}))):e;case S:var c=!!t.chatId&&!!e[t.chatId]&&e[t.chatId].messages.filter((function(e){return e.id!==t.messageId}));return Object(ke.a)(Object(ke.a)({},e),{},Object(ze.a)({},t.chatId,Object(ke.a)(Object(ke.a)({},e[t.chatId]),{},{messages:Object(Xe.a)(c)})));default:return e}},Qe={news:[],error:{status:!1,message:""},status:"idle"};var Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(ke.a)(Object(ke.a)({},e),{},{error:Object(ke.a)(Object(ke.a)({},e.error),{},{status:!1}),status:ve});case pe:return Object(ke.a)(Object(ke.a)({},e),{},{newsList:t.news,status:we});case xe:return Object(ke.a)(Object(ke.a)({},e),{},{error:Object(ke.a)(Object(ke.a)({},e.error),{},{status:!0,message:t.errorMessage}),status:Ce});default:return e}},Ye=a(33),$e=(a(79),Ae.a.mark((function e(t){var a,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"message-".concat(+new Date);case 3:return a=e.sent,e.next=6,Object(ae.d)(oe,"chats/".concat(t.chatId,"/messages/").concat(a));case 6:return c=e.sent,e.next=9,Object(ae.g)(c,{id:a,header:t.messageTheme,text:t.messageText,author:t.messageAuthor});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),et=Ae.a.mark((function e(t){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ae.d)(oe,"chats/".concat(t.chatId,"/messages/").concat(t.messageId));case 3:return a=e.sent,e.next=6,Object(ae.e)(a);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),tt=Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ye.b)((a=t.name,{type:ce,name:a}));case 3:return e.next=5,Object(ae.f)(Object(ae.d)(oe,"profile/".concat(ie.currentUser.uid)),{username:t.name});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,console.log(e.t0.message);case 11:case"end":return e.stop()}var a}),e,null,[[0,7]])})),at=Ae.a.mark((function e(){var t,a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ae.a)(Object(ae.d)(oe,"profile/".concat(ie.currentUser.uid,"/username")),(function(e){return e.val()}));case 3:return t=e.sent,e.next=6,t.val();case 6:return a=e.sent,e.next=9,Object(Ye.b)({type:p,name:a});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})),ct=function(e){return fetch(e).then((function(e){if(!e.ok)throw Error(e.status+" "+e.statusText);return e.json()})).then((function(e){return e})).catch((function(e){throw e}))},nt=Ae.a.mark((function e(t){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ye.b)({type:Oe});case 3:return e.next=5,Object(Ye.a)(ct,"https://api.currentsapi.services/v1/latest-news?language=ru&apiKey=6qmiCnF5XcC6Zt8s4fj5gRg9kBKB58XFqw8Rw6QqsYOtD1M8");case 5:return a=e.sent,e.next=8,Object(Ye.b)(fe(a.news));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(Ye.b)((t=e.t0.message,{type:xe,errorMessage:t}));case 14:case"end":return e.stop()}var t}),e,null,[[0,10]])})),rt=Ae.a.mark((function e(){var t;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ae.d)(oe,"chats");case 3:return t=e.sent,e.next=6,Object(ae.c)(t,(function(e){var t=e.val();xt.dispatch(q(t||{}))}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),st=Ae.a.mark((function e(t){var a,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"chatId".concat(+new Date);case 3:return a=e.sent,e.next=6,Object(ae.d)(oe,"chats/".concat(a));case 6:return c=e.sent,e.next=9,Object(ae.f)(Object(ae.d)(oe,"profile/".concat(ie.currentUser.uid,"/myChats/").concat(a)),{chatName:t.chatName});case 9:return e.next=11,Object(ae.f)(c,{name:t.chatName,id:a,messages:"",users:ie.currentUser.uid});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case 17:case"end":return e.stop()}}),e,null,[[0,13]])})),it=Ae.a.mark((function e(t){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ae.d)(oe,"chats/".concat(t.chatId));case 3:return a=e.sent,e.next=6,Object(ae.e)(a);case 6:return e.next=8,Object(ae.e)(Object(ae.d)(oe,"profile/".concat(ie.currentUser.uid,"/myChats/").concat(t.chatId)));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),ot=Ae.a.mark(ut);function ut(){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye.c)(J,$e);case 2:return e.next=4,Object(Ye.c)(I,et);case 4:return e.next=6,Object(Ye.d)(me,nt);case 6:return e.next=8,Object(Ye.d)(ne,tt);case 8:return e.next=10,Object(Ye.d)(x,at);case 10:return e.next=12,Object(Ye.d)(B,rt);case 12:return e.next=14,Object(Ye.d)(M,st);case 14:return e.next=16,Object(Ye.d)(G,it);case 16:case"end":return e.stop()}}),ot)}var lt=ut,bt=Object(Le.b)({profile:Ve,chats:Je,news:Ze}),jt={onError:function(e,t){console.log("qqq"+e),console.log(t)}},dt=Object(Ge.a)(jt),ht=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Le.c,Ot={key:"root",storage:qe.a},pt=Object(Pe.a)(Ot,bt),xt=Object(Le.d)(pt,Be,ht(Object(Le.a)(dt)));dt.run(lt);var mt=Object(Pe.b)(xt),ft=Object(u.a)({palette:{primary:{main:"#708238"},secondary:{main:"#0098FF"}}});var gt=function(){return Object(f.jsx)(i.a,{store:xt,children:Object(f.jsx)(o.a,{persistor:mt,children:Object(f.jsx)(l.a,{theme:ft,children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(Me,{})})})})})},vt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,168)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(gt,{})}),document.getElementById("root")),vt()}},[[124,1,2]]]);
//# sourceMappingURL=main.673bb092.chunk.js.map